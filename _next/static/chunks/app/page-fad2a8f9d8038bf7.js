(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{4436:(e,t,s)=>{"use strict";s.d(t,{k5:()=>d});var a=s(2115),r={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},n=a.createContext&&a.createContext(r),l=["attr","size","title"];function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function c(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,a)}return s}function o(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?c(Object(s),!0).forEach(function(t){var a,r,n;a=e,r=t,n=s[t],(r=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var a=s.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(r))in a?Object.defineProperty(a,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):a[r]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):c(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function d(e){return t=>a.createElement(m,i({attr:o({},e.attr)},t),function e(t){return t&&t.map((t,s)=>a.createElement(t.tag,o({key:s},t.attr),e(t.child)))}(e.child))}function m(e){var t=t=>{var s,{attr:r,size:n,title:c}=e,d=function(e,t){if(null==e)return{};var s,a,r=function(e,t){if(null==e)return{};var s={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;s[a]=e[a]}return s}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)s=n[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}(e,l),m=n||t.size||"1em";return t.className&&(s=t.className),e.className&&(s=(s?s+" ":"")+e.className),a.createElement("svg",i({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,d,{className:s,style:o(o({color:e.color||t.color},t.style),e.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),c&&a.createElement("title",null,c),e.children)};return void 0!==n?a.createElement(n.Consumer,null,e=>t(e)):t(r)}},7527:(e,t,s)=>{Promise.resolve().then(s.bind(s,9506))},9506:(e,t,s)=>{"use strict";let a;s.d(t,{default:()=>ej});var r=s(5155),n=s(2115);let l=["Spacious","Cozy","Luxurious","Modern","Elegant","Rustic","Charming","Inviting","Quaint","Expansive","Stylish","Sophisticated","Contemporary","Secluded","Grand","Minimalist","Vintage","Picturesque","Idyllic","Unique"];var i=function(e){return e.DOWNTOWN="Downtown",e.URBAN="Urban",e.SUBURBAN="Suburban",e.COUNTRY="Country",e}({}),c=function(e){return e.HOUSE="House",e.APARTMENT="Apartment",e.COMMERCIAL="Commercial",e.INDUSTRIAL="Industrial",e.LAND="Land",e.MIXED_USE="Mixed Use",e.VACATION="Vacation",e.CONDO="Condo",e.TOWNHOUSE="Townhouse",e.VILLA="Villa",e.BUNGALOW="Bungalow",e.MANSION="Mansion",e.COTTAGE="Cottage",e.DUPLEX="Duplex",e.FARMHOUSE="Farmhouse",e.CHALET="Chalet",e.CABIN="Cabin",e.TINY_HOME="Tiny Home",e.ROW_HOUSE="Row House",e.MOBILE_HOME="Mobile Home",e.COLONIAL_HOUSE="Colonial House",e.RANCH_HOUSE="Ranch House",e.SKYSCRAPER_CONDO="Skyscraper Condo",e.HOUSEBOAT="Houseboat",e}({}),o=function(e){return e.EXCELLENT="Excellent",e.GOOD="Good",e.AVERAGE="Average",e.BELOW_AVERAGE="Below Average",e.POOR="Poor",e}({}),d=function(e){return e.SCENIC="Scenic",e.WATER="Water",e.CITY="City",e.MOUNTAIN="Mountain",e.GARDEN="Garden",e.NONE="None",e}({}),m=function(e){return e.HIGH="High",e.MEDIUM="Medium",e.LOW="Low",e.NONE="None",e}({}),h=function(e){return e.DOCTOR="Doctor",e.LAWYER="Lawyer",e.TEACHER="Teacher",e.ENGINEER="Engineer",e.RETAIL_WORKER="Retail Worker",e.OFFICE_WORKER="Office Worker",e.MANAGER="Manager",e.BUSINESS_OWNER="Business Owner",e.SERVICE_WORKER="Service Worker",e.FREELANCER="Freelancer",e.STUDENT="Student",e.RETIRED="Retired",e.UNEMPLOYED="Unemployed",e}({}),x=function(e){return e.MINOR="Minor",e.MAJOR="Major",e}({}),u=function(e){return e.ECONOMIC="Economic",e.SOCIAL="Social",e.POLITICAL="Political",e.ENVIRONMENTAL="Environmental",e.TECHNOLOGICAL="Technological",e}({}),p=function(e){return e.INTEREST_RATE="Interest Rate",e.LOAN_APPROVAL="Loan Approval",e.MAX_LOAN_AMOUNT="Max Loan Amount",e.TENANT_QUALITY="Tenant Quality",e.PROPERTY_VALUE="Property Value",e.AREA_QUALITY="Area Quality",e.RENOVATION_COST="Renovation Cost",e.MAINTENANCE_COST="Maintenance Cost",e.PROPERTY_TAX="Property Tax",e}({});let g=(e,t,s,a)=>{let r=.02;return[i.DOWNTOWN,i.URBAN].includes(e)?r=.025:e===i.COUNTRY&&(r=.03),a&&([c.MANSION,c.VILLA].includes(a)?r+=.01:[c.APARTMENT,c.CONDO].includes(a)&&(r-=.005)),Math.round(Math.max(s*r/12,.5*t))},y={[i.DOWNTOWN]:35,[i.URBAN]:25,[i.SUBURBAN]:18,[i.COUNTRY]:12},b=(e,t,s,a,r)=>{let n=y[e]*t;if(n*=s,a&&([c.MANSION,c.VILLA].includes(a)?n*=1.3:[c.COMMERCIAL,c.MIXED_USE].includes(a)?n*=1.4:c.INDUSTRIAL===a&&(n*=.8)),r){let e=.005*r/12,t=.01*r/12;n<e?n=e:n>t&&(n=t)}return Math.round(n)},j=(e,t,s,a,r,n,l)=>{let h=0;switch(h=[c.MANSION,c.VILLA].includes(t)?7500:[c.HOUSE,c.COLONIAL_HOUSE,c.BUNGALOW,c.CHALET,c.FARMHOUSE].includes(t)?3500:[c.APARTMENT,c.CONDO,c.TOWNHOUSE,c.DUPLEX,c.SKYSCRAPER_CONDO,c.ROW_HOUSE].includes(t)?2800:[c.COTTAGE,c.CABIN,c.TINY_HOME,c.RANCH_HOUSE,c.MOBILE_HOME,c.HOUSEBOAT].includes(t)?2200:[c.COMMERCIAL,c.MIXED_USE].includes(t)?3800:c.INDUSTRIAL===t?2e3:c.LAND===t?800:c.VACATION===t?4500:2500,t){case c.MANSION:h*=1.3;break;case c.SKYSCRAPER_CONDO:h*=1.2;break;case c.MOBILE_HOME:h*=.7}let x=e*h,u=1;switch(s){case i.DOWNTOWN:u=1.5;break;case i.URBAN:u=1.2;break;case i.SUBURBAN:u=1;break;case i.COUNTRY:u=.7;break;default:throw Error("Invalid location")}let p=1;void 0!==a&&(p=a<2?1.1:a<10?1.05:Math.max(.6,1-a/100*.4),a>70&&Math.random()>.5&&(p=1.1));let g=1;void 0!==r&&(g=.6+r/100*.6);let y=1;n&&(y=n.demandLevel*Math.max(.85,1.15-n.interestRate/20));let b=x*u*p*g*y;if(l){if(l.neighborhoodQuality)switch(l.neighborhoodQuality){case o.EXCELLENT:b*=1.25;break;case o.GOOD:b*=1.15;break;case o.AVERAGE:break;case o.BELOW_AVERAGE:b*=.9;break;case o.POOR:b*=.8}if(l.amenities){let e=[l.amenities.schools,l.amenities.parks,l.amenities.shopping,l.amenities.transportation,l.amenities.healthcare];b*=.85+e.reduce((e,t)=>e+t,0)/e.length/5*.3}if(l.specialFeatures){let e=l.specialFeatures,t=0;e.swimmingPool&&(t+=.05),e.garden&&(t+=.03),e.rooftopTerrace&&(t+=.04),e.balcony&&(t+=.02),e.fireplace&&(t+=.01),e.homeOffice&&(t+=.02),e.garage&&(t+=.03),e.outdoorSpaces&&(t+=.02),e.smartHome&&(t+=.04),e.securitySystem&&(t+=.02),b*=1+t}if(l.viewQuality)switch(l.viewQuality){case d.SCENIC:b*=1.12;break;case d.WATER:b*=1.15;break;case d.MOUNTAIN:b*=1.1;break;case d.CITY:b*=1.08;break;case d.GARDEN:b*=1.05}if(l.lotSize&&[c.HOUSE,c.VILLA,c.MANSION,c.FARMHOUSE,c.COLONIAL_HOUSE,c.RANCH_HOUSE].includes(t)){let t=2*e;l.lotSize>t&&(b*=Math.min(1+(l.lotSize-t)/t*.2,1.4))}if(l.economicIndicators){let e=l.economicIndicators,t=1-(e.unemploymentRate-5)/100,s=1+e.jobGrowth/100;b*=(t+s+Math.min(1.3,Math.max(.8,e.medianIncome/5e4)))/3}if(l.renovationPotential){let e=1;switch(l.renovationPotential){case m.HIGH:e=1.08;break;case m.MEDIUM:e=1.04;break;case m.LOW:e=1.01;break;case m.NONE:e=1}b*=e}if(l.marketTrends){let e=l.marketTrends,t=1+e.historicalAppreciation/100,s=Math.max(.9,1.1-e.propertySupply/100),a=Math.max(.9,1.1-e.averageDaysOnMarket/200);b*=(t+s+a)/3*e.seasonality}}return Math.round(b)},N=()=>{let e=Math.floor(Math.random()*l.length);return l[e]},f=()=>{let e=Object.values(i),t=Math.floor(Math.random()*e.length);return e[t]},v=(e,t)=>{if(t===c.LAND)return null;let s=1,a=5;switch([c.MANSION,c.VILLA,c.COLONIAL_HOUSE,c.FARMHOUSE].includes(t)?(s=4,a=10):[c.HOUSE,c.RANCH_HOUSE,c.BUNGALOW,c.DUPLEX].includes(t)?(s=3,a=6):[c.TINY_HOME,c.MOBILE_HOME].includes(t)?(s=1,a=2):(c.COMMERCIAL===t||c.INDUSTRIAL===t||c.MIXED_USE===t)&&(s=1,a=20),e){case i.DOWNTOWN:t===c.APARTMENT?(s=1,a=3):t===c.CONDO&&(s=2,a=4);break;case i.URBAN:t===c.TOWNHOUSE&&(s=3,a=6);break;case i.COUNTRY:s=Math.max(s,2),a=Math.max(a,a+2)}return Math.floor(Math.random()*(a-s+1))+s},w=(e,t)=>{let s=10,a=300;if(t===c.LAND)return s=1e3,a=1e4,e===i.COUNTRY&&(s=5e3,a=5e4),Math.floor(Math.random()*(a-s+1))+s;switch(e){case i.DOWNTOWN:t===c.APARTMENT?(s=30,a=100):t===c.CONDO&&(s=50,a=150);break;case i.URBAN:t===c.TOWNHOUSE&&(s=70,a=200);break;case i.SUBURBAN:t===c.HOUSE&&(s=100,a=300);break;case i.COUNTRY:t===c.FARMHOUSE&&(s=150,a=400)}return Math.floor(Math.random()*(a-s+1))+s},M=e=>{let t=[];switch(e){case i.DOWNTOWN:t=[c.APARTMENT,c.CONDO,c.SKYSCRAPER_CONDO,c.COMMERCIAL,c.MIXED_USE,c.LAND];break;case i.URBAN:t=[c.APARTMENT,c.CONDO,c.TOWNHOUSE,c.COMMERCIAL,c.INDUSTRIAL,c.LAND,c.MIXED_USE,c.TOWNHOUSE];break;case i.SUBURBAN:t=[c.HOUSE,c.APARTMENT,c.LAND,c.MOBILE_HOME,c.RANCH_HOUSE,c.COLONIAL_HOUSE,c.DUPLEX,c.ROW_HOUSE,c.VILLA,c.BUNGALOW,c.MANSION,c.TINY_HOME,c.HOUSEBOAT,c.CHALET];break;case i.COUNTRY:t=[c.HOUSE,c.FARMHOUSE,c.COTTAGE,c.BUNGALOW,c.CHALET,c.LAND,c.VACATION,c.HOUSEBOAT,c.CABIN,c.MANSION,c.TINY_HOME,c.RANCH_HOUSE,c.COLONIAL_HOUSE,c.FARMHOUSE];break;default:t=[c.HOUSE,c.APARTMENT,c.COMMERCIAL,c.LAND,c.VACATION]}if(0===t.length)return M(e);let s=Math.floor(Math.random()*t.length);return t[s]},A=e=>{let t;let s=Object.values(o);switch(e){case i.DOWNTOWN:t=[.3,.4,.2,.07,.03];break;case i.URBAN:t=[.2,.3,.3,.15,.05];break;case i.SUBURBAN:t=[.15,.35,.35,.1,.05];break;case i.COUNTRY:t=[.1,.25,.4,.15,.1];break;default:t=[.2,.2,.2,.2,.2]}let a=Math.random(),r=0;for(let e=0;e<s.length;e++)if(a<(r+=t[e]))return s[e];return o.AVERAGE},E=(e,t)=>{let s=Object.values(d).filter(e=>e!==d.NONE),a=.3;if([c.MANSION,c.VILLA,c.SKYSCRAPER_CONDO].includes(t)?a=.8:e===i.COUNTRY?a=.6:e===i.DOWNTOWN&&(a=.5),Math.random()>a)return d.NONE;if(e===i.COUNTRY){if(.7>Math.random())return .6>Math.random()?d.SCENIC:d.MOUNTAIN}else if(e===i.DOWNTOWN&&.8>Math.random())return d.CITY;let r=Math.floor(Math.random()*s.length);return s[r]},O=e=>{let t={[i.DOWNTOWN]:{schools:3,parks:2,shopping:5,transportation:5,healthcare:4},[i.URBAN]:{schools:3.5,parks:3,shopping:4,transportation:4,healthcare:3.5},[i.SUBURBAN]:{schools:4,parks:4,shopping:3,transportation:2.5,healthcare:3},[i.COUNTRY]:{schools:2,parks:5,shopping:1.5,transportation:1,healthcare:1.5}},s=e=>Math.max(0,Math.min(5,e+(2*Math.random()-1))),a=t[e];return{schools:s(a.schools),parks:s(a.parks),shopping:s(a.shopping),transportation:s(a.transportation),healthcare:s(a.healthcare)}},T=(e,t)=>{let s={swimmingPool:!1,garden:!1,rooftopTerrace:!1,balcony:!1,fireplace:!1,homeOffice:!1,garage:!1,outdoorSpaces:!1,smartHome:!1,securitySystem:!1},a=(e,s)=>e*s*(.2+.8*t),r={swimmingPool:{[c.HOUSE]:.6,[c.MANSION]:.9,[c.VILLA]:.8},garden:{[c.HOUSE]:.8,[c.FARMHOUSE]:.9,[c.COTTAGE]:.8,[c.VILLA]:.9,[c.MANSION]:.9}};return s.swimmingPool=Math.random()<a(.3,r.swimmingPool[e]||.1),s.garden=Math.random()<a(.5,r.garden[e]||.2),s.rooftopTerrace=Math.random()<(e===c.SKYSCRAPER_CONDO?.6:.1)*t,s.balcony=Math.random()<([c.APARTMENT,c.CONDO].includes(e)?.7:.3)*t,s.fireplace=Math.random()<.4*t,s.homeOffice=Math.random()<.5*t,s.garage=Math.random()<([c.HOUSE,c.VILLA,c.MANSION].includes(e)?.8:.2)*t,s.outdoorSpaces=Math.random()<.6*t,s.smartHome=Math.random()<.3*t,s.securitySystem=Math.random()<.4*t,s},R=(e,t)=>{if(t===c.LAND){let e=Math.random();return e<.3?m.HIGH:e<.6?m.MEDIUM:e<.8?m.LOW:m.NONE}let s=new Date().getFullYear()-e.getFullYear();return s<5?.1>Math.random()?m.LOW:m.NONE:s<15?.7>Math.random()?m.LOW:m.MEDIUM:s<30?.6>Math.random()?m.MEDIUM:m.HIGH:m.HIGH},S=e=>{let t,s,a,r;switch(e){case i.DOWNTOWN:t=4,s=2.3,a=5e5,r=75e3;break;case i.URBAN:t=4.5,s=1.8,a=3e5,r=6e4;break;case i.SUBURBAN:t=3.8,s=1.5,a=15e4,r=8e4;break;case i.COUNTRY:t=5.2,s=.8,a=5e4,r=55e3}return{unemploymentRate:t+(2*Math.random()-1),jobGrowth:s+(+Math.random()-.5),population:Math.round(a*(.9+.2*Math.random())),medianIncome:Math.round(r*(.9+.2*Math.random()))}},C=function(e,t){let s,a,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];switch(e){case i.DOWNTOWN:s=3.5;break;case i.URBAN:s=2.8;break;case i.SUBURBAN:s=2.5;break;case i.COUNTRY:s=1.8;break;default:s=2}[c.COMMERCIAL,c.MIXED_USE].includes(t)?s+=.5:[c.MANSION,c.VILLA].includes(t)&&(s+=.3);let n=r.filter(s=>s.type===t&&s.location===e&&null===s.owner),l=n.length>0?n.length:Math.floor(25*Math.random())+5,o=r.filter(s=>s.type===t&&s.location===e);a=o.length>0?Math.max(5,Math.ceil(o.reduce((e,t)=>e+(t.timeOnMarket||Math.ceil((new Date().getTime()-t.listedDate.getTime())/864e5)),0)/o.length)):Math.floor(60*Math.random())+20;let d=new Date().getMonth(),m=1;return d>=2&&d<=4?m=1.1:d>=8&&d<=10?m=1.05:(d>=11||d<=1)&&(m=.9),{historicalAppreciation:s+(2*Math.random()-1),propertySupply:l,averageDaysOnMarket:a,seasonality:m}},P=(e,t)=>{if(![c.HOUSE,c.VILLA,c.MANSION,c.FARMHOUSE,c.COLONIAL_HOUSE,c.RANCH_HOUSE].includes(e))return;let s=3;switch(e){case c.MANSION:s=10;break;case c.VILLA:s=7;break;case c.FARMHOUSE:s=20;break;case c.RANCH_HOUSE:s=15;break;default:s=3}return Math.round(t*s*(.5+Math.random()))},L=function(e){let t,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=f(),r=N(),n="".concat(Math.round(9999*Math.random())," ").concat(r," St, ").concat(a),l=M(a),d=new Date(Date.now()-Math.floor(31536e8*Math.random())),m=Math.min(Math.floor(101*Math.random()),100),h=w(a,l),x=v(a,l),u=A(a),p=E(a,l),y=O(a),L=P(l,h),I=R(d,l),k=S(a),D=C(a,l,s),U=new Date().getFullYear()-d.getFullYear(),F=((u===o.EXCELLENT?1:u===o.GOOD?.8:u===o.AVERAGE?.6:u===o.BELOW_AVERAGE?.4:.2)+.3*!![c.MANSION,c.VILLA].includes(l)+.2*(a===i.DOWNTOWN))/1.5,H=T(l,F),_=j(h,l,a,U,m,void 0,{neighborhoodQuality:u,viewQuality:p,amenities:y,lotSize:L,renovationPotential:I,economicIndicators:k,marketTrends:D,specialFeatures:H}),B=Math.floor(_*(.9+.2*Math.random())),W=Math.floor(90*Math.random())+1,Y=g(a,h,_),G=.5>Math.random()?"Housing":"Business",V=b(a,h,m/100),$=new Date,z=["hot new","just listed","must-see","unbeatable","prime","premium","desirable","rare find"],J=Math.floor(Math.random()*z.length),q=z[J];return t=l===c.LAND?"".concat(q," ").concat(h.toLocaleString()," m\xb2 ").concat(l," with ").concat(I," development potential in ").concat(a,"."):"".concat(q," ").concat(r," ").concat(l," with ").concat(x," ").concat(1===x?"room":"rooms"," located in ").concat(a,"."),{id:e,address:n,value:_,type:l,description:t,adjective:r,buildingDate:d,maintenance:"Needs some repairs",marketPrice:B,renovationBonusPercentage:m,size:h,rooms:x,location:a,owner:null,timeOnMarket:W,maintenanceCosts:Y,intendedPurpose:G,rentPrice:V,isRented:!1,rentee:null,neighborhoodQuality:u,amenities:y,specialFeatures:H,viewQuality:p,lotSize:L,renovationPotential:I,economicIndicators:k,marketTrends:D,listedDate:$,isNew:!0,tenantHistory:[],tenantEvents:[],leaseApplications:[],propertyTax:0}},I=()=>(0,r.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Game Tips"}),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-blue-400 mb-2",children:"Getting Started"}),(0,r.jsx)("p",{className:"text-gray-300",children:"Begin by purchasing affordable properties with good neighborhood ratings and rental potential. Focus on properties with positive cash flow first to build your capital base."})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-blue-400 mb-2",children:"Property Selection Tips"}),(0,r.jsxs)("ul",{className:"list-disc pl-5 text-gray-300 space-y-1",children:[(0,r.jsx)("li",{children:'Properties with "High" renovation potential can be great investments'}),(0,r.jsx)("li",{children:"Check the job growth percentage - higher growth areas often appreciate faster"}),(0,r.jsx)("li",{children:"Look for special features that add value like swimming pools in luxury properties"}),(0,r.jsx)("li",{children:'Consider the neighborhood quality - "Excellent" areas command premium rents'})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-blue-400 mb-2",children:"Financial Strategy"}),(0,r.jsx)("p",{className:"text-gray-300",children:"Use loans strategically to expand your portfolio, but be careful not to over-leverage. Try to maintain a debt ratio below 60% for safety. Remember to balance your portfolio between properties that generate rental income and those with high appreciation potential."})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-blue-400 mb-2",children:"Managing Properties"}),(0,r.jsx)("p",{className:"text-gray-300",children:"Renovating properties increases both their value and the rent you can charge. However, it's usually not economical to renovate properties that you plan to sell immediately. Focus renovations on properties you intend to hold for longer periods."})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-blue-400 mb-2",children:"Tax Management"}),(0,r.jsxs)("ul",{className:"list-disc pl-5 text-gray-300 space-y-2",children:[(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Property Tax Strategy:"})," Different locations have different property tax rates. Downtown properties have the highest rates (1.8%), while country properties have the lowest (1.0%). Consider this ongoing cost when purchasing."]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Capital Gains Tax:"})," Properties held for less than 12 months are subject to higher short-term capital gains tax (25%). Hold properties for at least one year to qualify for the lower long-term rate (15%)."]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Income Tax Planning:"})," Rental income is taxed progressively. Consider spreading your investments to optimize your tax bracket position. Remember that 80% of your expenses can be deducted from your taxable rental income."]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Timing Sales:"})," Strategic timing of property sales can help minimize tax liability. Avoid selling multiple properties in the same fiscal year if it would push you into a higher tax bracket."]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-blue-400 mb-2",children:"Using Financial Reports"}),(0,r.jsxs)("ul",{className:"list-disc pl-5 text-gray-300 space-y-2",children:[(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Portfolio Diversification:"})," Aim to diversify your portfolio across different property types and locations. The diversification tab shows your current asset allocation with helpful visualizations."]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Key Financial Metrics:"}),(0,r.jsxs)("ul",{className:"list-circle pl-5 mt-1 space-y-1",children:[(0,r.jsxs)("li",{children:[(0,r.jsx)("span",{className:"text-green-400",children:"Capitalization Rate (Cap Rate)"})," ","- Measures your annual return on investment. Higher is better, with 5-10% generally considered good for real estate."]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("span",{className:"text-green-400",children:"Cash on Cash Return"})," - Measures the return on the actual cash invested. This can be higher than cap rate if you're using leverage effectively."]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("span",{className:"text-green-400",children:"Debt Service Coverage Ratio (DSCR)"})," ","- Should be above 1.0, with 1.25+ considered healthy. This indicates your rental income comfortably covers your debt payments."]})]})]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Cash Flow Analysis:"})," Use the cash flow breakdown to identify properties that are draining your finances. Aim for positive cash flow on each property and across your entire portfolio."]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-blue-400 mb-2",children:"Interest Rate Strategy"}),(0,r.jsx)("p",{className:"text-gray-300",children:"Interest rates change quarterly. Keep an eye on the trend - if rates are consistently rising, consider locking in loans before they increase further. Conversely, if rates are falling, you might want to wait before taking on new debt. Having a high credit score can help you qualify for better loan terms regardless of market conditions."})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-blue-400 mb-2",children:"Land Properties"}),(0,r.jsx)("p",{className:"text-gray-300",children:"Land properties cannot be rented but are valuable long-term investments. Land typically appreciates over time and can be sold for profit later. In future updates, you'll be able to develop land into new properties."})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-blue-400 mb-2",children:"Property Management"}),(0,r.jsxs)("ul",{className:"list-disc pl-5 text-gray-300 space-y-2",children:[(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Outsourcing Management:"})," You can hire a property manager to handle your properties. This saves time but costs a monthly fee."]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Finding Tenants:"})," Property managers can find tenants for vacant properties you've outsourced, charging half a month's rent as a fee."]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Handling Issues:"})," For outsourced properties, managers will automatically handle tenant complaints and maintenance issues."]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Efficiency Trade-off:"})," Using a property manager is less profitable than managing personally, but allows you to scale your portfolio more easily."]})]})]})]})]}),k=e=>{let{tickRate:t,setTickRate:s,paused:a,setPaused:l,propertyManager:i,togglePropertyManager:c,outsourcedProperties:o,ownedProperties:d,toggleOutsourceProperty:m}=e,[h,x]=(0,n.useState)(!1);return(0,r.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Game Settings"}),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Game Speed"}),(0,r.jsxs)("div",{className:"flex gap-3",children:[(0,r.jsx)("button",{className:"px-4 py-2 rounded border ".concat(5e3===t?"border-blue-500 bg-blue-900/30":"border-gray-600"),onClick:()=>{l(!1),s(5e3)},children:"Slow"}),(0,r.jsx)("button",{className:"px-4 py-2 rounded border ".concat(1e3===t?"border-blue-500 bg-blue-900/30":"border-gray-600"),onClick:()=>{l(!1),s(1e3)},children:"Normal"}),(0,r.jsx)("button",{className:"px-4 py-2 rounded border ".concat(100===t?"border-blue-500 bg-blue-900/30":"border-gray-600"),onClick:()=>{l(!1),s(100)},children:"Fast"}),(0,r.jsx)("button",{className:"px-4 py-2 rounded border ".concat(a?"border-red-500 bg-red-900/30":"border-gray-600"),onClick:()=>l(!a),children:a?"Resume":"Pause"})]})]}),(0,r.jsxs)("div",{className:"border-t border-gray-700 pt-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-3",children:"Property Management"}),(0,r.jsx)("div",{className:"bg-gray-700 p-4 rounded mb-4",children:(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-medium",children:"Property Manager"}),(0,r.jsxs)("p",{className:"text-sm text-gray-400 mt-1",children:["Hire a property manager to handle tenant issues and find new tenants for outsourced properties. Monthly fee: $",i.fee.toLocaleString()]})]}),(0,r.jsx)("div",{children:(0,r.jsxs)("label",{className:"inline-flex items-center cursor-pointer",children:[(0,r.jsx)("input",{type:"checkbox",checked:i.hired,onChange:c,className:"sr-only peer"}),(0,r.jsx)("div",{className:'relative w-11 h-6 bg-gray-600 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-500 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[""] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600'}),(0,r.jsx)("span",{className:"ml-3 text-sm font-medium",children:i.hired?"Hired":"Not Hired"})]})})]})}),(0,r.jsx)("button",{className:"w-full py-2 bg-blue-600 hover:bg-blue-700 text-white rounded mb-4",onClick:()=>x(!h),children:h?"Hide Property Outsourcing":"Manage Property Outsourcing"}),h&&(0,r.jsxs)("div",{className:"bg-gray-700 p-4 rounded",children:[(0,r.jsx)("h4",{className:"font-medium mb-3",children:"Select Properties to Outsource"}),0===d.length?(0,r.jsx)("p",{className:"text-gray-400",children:"You don't own any properties to outsource."}):(0,r.jsx)("div",{className:"max-h-[300px] overflow-y-auto",children:d.map(e=>(0,r.jsxs)("div",{className:"p-2 mb-2 border rounded flex justify-between items-center ".concat(o.has(e.id)?"border-purple-500 bg-purple-900/20":"border-gray-600"),children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-medium",children:e.address.split(",")[0]}),(0,r.jsxs)("p",{className:"text-sm text-gray-400",children:[e.type," - ",e.location]})]}),(0,r.jsxs)("label",{className:"inline-flex items-center cursor-pointer",children:[(0,r.jsx)("input",{type:"checkbox",checked:o.has(e.id),onChange:()=>m(e.id),className:"sr-only peer"}),(0,r.jsx)("div",{className:'relative w-11 h-6 bg-gray-600 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-purple-500 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[""] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600'})]})]},e.id))}),(0,r.jsx)("div",{className:"mt-3 text-sm text-gray-400",children:(0,r.jsx)("p",{children:"Note: Outsourcing property management allows the property manager to find tenants and handle issues. There is a fee for each tenant found (half month's rent)."})})]})]}),(0,r.jsxs)("div",{className:"border-t border-gray-700 pt-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-3",children:"Display Settings"}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,r.jsx)("input",{type:"checkbox",className:"form-checkbox h-5 w-5 text-blue-500",defaultChecked:!0}),(0,r.jsx)("span",{children:"Show property notifications"})]}),(0,r.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,r.jsx)("input",{type:"checkbox",className:"form-checkbox h-5 w-5 text-blue-500",defaultChecked:!0}),(0,r.jsx)("span",{children:"Auto-sort by newest properties"})]})]})]})]})]})},D={[i.DOWNTOWN]:.018,[i.URBAN]:.016,[i.SUBURBAN]:.014,[i.COUNTRY]:.01},U=[{threshold:0,rate:.1},{threshold:5e4,rate:.15},{threshold:1e5,rate:.25},{threshold:25e4,rate:.35}],F={SHORT_TERM:.25,LONG_TERM:.15},H=e=>{let t=D[e.location]||.015;return Math.round(e.value*t/12)},_=e=>e.reduce((e,t)=>"Player"===t.owner?e+H(t):e,0),B=function(e,t){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=12*Math.max(0,e-.8*t),r=0;for(let e=0;e<U.length;e++){let t=U[e],s=U[e+1];if(!s){r+=a*t.rate;break}let n=Math.min(a,s.threshold-t.threshold);if(r+=n*t.rate,(a-=n)<=0)break}return s?Math.round(r):Math.round(r/12)},W=(e,t,s)=>Math.round(Math.max(0,t-e)*(s>=12?F.LONG_TERM:F.SHORT_TERM)),Y=e=>{let{ownedProperties:t,totalDebt:s=0,monthlyRepayment:a=0,playerMoney:l=0}=e,[i,c]=(0,n.useState)("summary"),o=t.reduce((e,t)=>e+t.value,0),d=t.filter(e=>e.isRented).reduce((e,t)=>e+t.rentPrice,0),m=t.reduce((e,t)=>e+t.maintenanceCosts,0),h=d-m-a,x=o+l-s,u=o>0?12*d/o*100:0,p=o>0?12*h/(o-s)*100:0,g=t.length>0?t.reduce((e,t)=>e+(t.value-t.marketPrice)/t.marketPrice,0)/t.length*100:0,y=t.reduce((e,t)=>(e[t.type]=(e[t.type]||0)+t.value,e),{}),b=t.reduce((e,t)=>(e[t.location]=(e[t.location]||0)+t.value,e),{}),j=t.length>0?t.filter(e=>e.isRented).length/t.length*100:0,N=a>0?d/a:0,f=e=>"$".concat(e.toLocaleString()),v=e=>"".concat(e.toFixed(2),"%");return(0,r.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Financial Reports"}),(0,r.jsxs)("div",{className:"mb-4 flex flex-wrap gap-2",children:[(0,r.jsx)("button",{className:"px-3 py-1 rounded ".concat("summary"===i?"bg-blue-600":"bg-gray-700 hover:bg-gray-600"),onClick:()=>c("summary"),children:"Summary"}),(0,r.jsx)("button",{className:"px-3 py-1 rounded ".concat("performance"===i?"bg-blue-600":"bg-gray-700 hover:bg-gray-600"),onClick:()=>c("performance"),children:"Property Performance"}),(0,r.jsx)("button",{className:"px-3 py-1 rounded ".concat("cashflow"===i?"bg-blue-600":"bg-gray-700 hover:bg-gray-600"),onClick:()=>c("cashflow"),children:"Cash Flow"}),(0,r.jsx)("button",{className:"px-3 py-1 rounded ".concat("metrics"===i?"bg-blue-600":"bg-gray-700 hover:bg-gray-600"),onClick:()=>c("metrics"),children:"Financial Metrics"}),(0,r.jsx)("button",{className:"px-3 py-1 rounded ".concat("diversification"===i?"bg-blue-600":"bg-gray-700 hover:bg-gray-600"),onClick:()=>c("diversification"),children:"Diversification"})]}),(0,r.jsxs)("div",{className:"mt-4 space-y-6",children:["summary"===i&&(0,r.jsxs)("div",{className:"border border-gray-700 p-4 rounded",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Portfolio Summary"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,r.jsx)("div",{children:"Total Properties:"}),(0,r.jsx)("div",{children:t.length}),(0,r.jsx)("div",{children:"Portfolio Value:"}),(0,r.jsx)("div",{children:f(o)}),(0,r.jsx)("div",{children:"Monthly Rental Income:"}),(0,r.jsx)("div",{className:"text-green-400",children:f(d)}),(0,r.jsx)("div",{children:"Monthly Expenses:"}),(0,r.jsx)("div",{className:"text-red-400",children:f(m)}),(0,r.jsx)("div",{children:"Monthly Mortgage Payment:"}),(0,r.jsx)("div",{className:"text-red-400",children:f(a)}),(0,r.jsx)("div",{children:"Monthly Cash Flow:"}),(0,r.jsx)("div",{className:h>=0?"text-green-400":"text-red-400",children:f(h)}),(0,r.jsx)("div",{children:"Net Worth:"}),(0,r.jsx)("div",{className:x>=0?"text-green-400":"text-red-400",children:f(x)}),(0,r.jsx)("div",{children:"Debt-to-Asset Ratio:"}),(0,r.jsx)("div",{children:o>0?v(s/o*100):"0.00%"}),(0,r.jsx)("div",{children:"Occupancy Rate:"}),(0,r.jsx)("div",{children:v(j)})]})]}),"performance"===i&&(0,r.jsxs)("div",{className:"border border-gray-700 p-4 rounded",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Property Performance"}),(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-full divide-y divide-gray-700",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"px-4 py-2 text-left",children:"Property"}),(0,r.jsx)("th",{className:"px-4 py-2 text-left",children:"Purchase Price"}),(0,r.jsx)("th",{className:"px-4 py-2 text-left",children:"Current Value"}),(0,r.jsx)("th",{className:"px-4 py-2 text-left",children:"ROI"}),(0,r.jsx)("th",{className:"px-4 py-2 text-left",children:"Monthly Income"}),(0,r.jsx)("th",{className:"px-4 py-2 text-left",children:"Monthly Expenses"}),(0,r.jsx)("th",{className:"px-4 py-2 text-left",children:"Cash Flow"}),(0,r.jsx)("th",{className:"px-4 py-2 text-left",children:"Cap Rate"})]})}),(0,r.jsx)("tbody",{className:"divide-y divide-gray-700",children:t.map(e=>{let t=((e.value-e.marketPrice)/e.marketPrice*100).toFixed(2),s=e.isRented?e.rentPrice:0,a=s-e.maintenanceCosts,n=e.isRented?12*e.rentPrice/e.value*100:0;return(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{className:"px-4 py-2",children:e.address}),(0,r.jsx)("td",{className:"px-4 py-2",children:f(e.marketPrice)}),(0,r.jsx)("td",{className:"px-4 py-2",children:f(e.value)}),(0,r.jsxs)("td",{className:"px-4 py-2 ".concat(Number(t)>=0?"text-green-400":"text-red-400"),children:[t,"%"]}),(0,r.jsx)("td",{className:"px-4 py-2 text-green-400",children:f(s)}),(0,r.jsx)("td",{className:"px-4 py-2 text-red-400",children:f(e.maintenanceCosts)}),(0,r.jsx)("td",{className:"px-4 py-2 ".concat(a>=0?"text-green-400":"text-red-400"),children:f(a)}),(0,r.jsxs)("td",{className:"px-4 py-2",children:[n.toFixed(2),"%"]})]},e.id)})})]})}),0===t.length&&(0,r.jsx)("p",{className:"text-gray-400 text-center py-4",children:"No properties in portfolio"})]}),"cashflow"===i&&(0,r.jsxs)("div",{className:"border border-gray-700 p-4 rounded",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-3",children:"Cash Flow Analysis"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-4",children:[(0,r.jsxs)("div",{className:"bg-gray-700 p-4 rounded",children:[(0,r.jsx)("h4",{className:"text-md font-medium mb-2",children:"Monthly Income"}),(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{children:"Rental Income:"}),(0,r.jsx)("span",{className:"text-green-400",children:f(d)})]}),(0,r.jsxs)("div",{className:"pt-2 border-t border-gray-600 flex justify-between font-semibold",children:[(0,r.jsx)("span",{children:"Total Income:"}),(0,r.jsx)("span",{className:"text-green-400",children:f(d)})]})]})]}),(0,r.jsxs)("div",{className:"bg-gray-700 p-4 rounded",children:[(0,r.jsx)("h4",{className:"text-md font-medium mb-2",children:"Monthly Expenses"}),(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{children:"Maintenance Costs:"}),(0,r.jsx)("span",{className:"text-red-400",children:f(m)})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{children:"Mortgage Payment:"}),(0,r.jsx)("span",{className:"text-red-400",children:f(a)})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{children:"Property Taxes:"}),(0,r.jsx)("span",{className:"text-red-400",children:f(t.reduce((e,t)=>e+H(t),0))})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{children:"Income Taxes:"}),(0,r.jsx)("span",{className:"text-red-400",children:f(B(d,m))})]}),(0,r.jsxs)("div",{className:"pt-2 border-t border-gray-600 flex justify-between font-semibold",children:[(0,r.jsx)("span",{children:"Total Expenses:"}),(0,r.jsx)("span",{className:"text-red-400",children:f(m+a+t.reduce((e,t)=>e+H(t),0)+B(d,m))})]})]})]})]}),(0,r.jsxs)("div",{className:"bg-gray-800 p-4 rounded",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("span",{className:"font-bold",children:"Net Monthly Cash Flow:"}),(0,r.jsx)("span",{className:"text-xl font-bold ".concat(h>=0?"text-green-400":"text-red-400"),children:f(h)})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center mt-2",children:[(0,r.jsx)("span",{children:"Projected Annual Cash Flow:"}),(0,r.jsx)("span",{className:"font-bold ".concat(12*h>=0?"text-green-400":"text-red-400"),children:f(12*h)})]})]})]}),"metrics"===i&&(0,r.jsxs)("div",{className:"border border-gray-700 p-4 rounded",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-3",children:"Investment Metrics"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{className:"bg-gray-700 rounded p-4",children:[(0,r.jsx)("div",{className:"text-gray-400 text-sm mb-1",children:"Capitalization Rate"}),(0,r.jsx)("div",{className:"text-2xl font-bold mb-1",children:v(u)}),(0,r.jsx)("p",{className:"text-xs text-gray-400",children:"Annual income / Property value"})]}),(0,r.jsxs)("div",{className:"bg-gray-700 rounded p-4",children:[(0,r.jsx)("div",{className:"text-gray-400 text-sm mb-1",children:"Cash on Cash Return"}),(0,r.jsx)("div",{className:"text-2xl font-bold mb-1",children:v(p)}),(0,r.jsx)("p",{className:"text-xs text-gray-400",children:"Annual cash flow / Cash invested"})]}),(0,r.jsxs)("div",{className:"bg-gray-700 rounded p-4",children:[(0,r.jsx)("div",{className:"text-gray-400 text-sm mb-1",children:"Average ROI"}),(0,r.jsx)("div",{className:"text-2xl font-bold mb-1",children:v(g)}),(0,r.jsx)("p",{className:"text-xs text-gray-400",children:"Return on initial investment"})]}),(0,r.jsxs)("div",{className:"bg-gray-700 rounded p-4",children:[(0,r.jsx)("div",{className:"text-gray-400 text-sm mb-1",children:"Debt Service Coverage Ratio"}),(0,r.jsx)("div",{className:"text-2xl font-bold mb-1",children:N.toFixed(2)}),(0,r.jsxs)("p",{className:"text-xs text-gray-400",children:["Rental income / Debt payment (",">","1 is good)"]})]}),(0,r.jsxs)("div",{className:"bg-gray-700 rounded p-4",children:[(0,r.jsx)("div",{className:"text-gray-400 text-sm mb-1",children:"Occupancy Rate"}),(0,r.jsx)("div",{className:"text-2xl font-bold mb-1",children:v(j)}),(0,r.jsx)("p",{className:"text-xs text-gray-400",children:"Percentage of properties rented"})]}),(0,r.jsxs)("div",{className:"bg-gray-700 rounded p-4",children:[(0,r.jsx)("div",{className:"text-gray-400 text-sm mb-1",children:"Gross Rent Multiplier"}),(0,r.jsx)("div",{className:"text-2xl font-bold mb-1",children:d>0?(o/(12*d)).toFixed(2):"N/A"}),(0,r.jsx)("p",{className:"text-xs text-gray-400",children:"Property value / Annual rental income"})]})]})]}),"diversification"===i&&(()=>{if(0===t.length)return(0,r.jsxs)("div",{className:"border border-gray-700 p-4 rounded",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Portfolio Diversification"}),(0,r.jsx)("p",{className:"text-center text-gray-400 py-4",children:"No properties in portfolio"})]});let e=Object.entries(y).map(e=>{let[t,s]=e;return{type:t,value:s,percentage:(s/o*100).toFixed(1)}}),s=Object.entries(b).map(e=>{let[t,s]=e;return{location:t,value:s,percentage:(s/o*100).toFixed(1)}});return(0,r.jsxs)("div",{className:"border border-gray-700 p-4 rounded",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Portfolio Diversification"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-medium mb-2",children:"By Property Type"}),(0,r.jsx)("div",{className:"space-y-2",children:e.map(e=>{let{type:t,percentage:s,value:a}=e;return(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{children:t}),(0,r.jsxs)("span",{children:[s,"% (",f(a),")"]})]}),(0,r.jsx)("div",{className:"h-2 w-full bg-gray-700 rounded-full overflow-hidden",children:(0,r.jsx)("div",{className:"h-full bg-blue-500 rounded-full",style:{width:"".concat(s,"%")}})})]},t)})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-medium mb-2",children:"By Location"}),(0,r.jsx)("div",{className:"space-y-2",children:s.map(e=>{let{location:t,percentage:s,value:a}=e;return(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{children:t}),(0,r.jsxs)("span",{children:[s,"% (",f(a),")"]})]}),(0,r.jsx)("div",{className:"h-2 w-full bg-gray-700 rounded-full overflow-hidden",children:(0,r.jsx)("div",{className:"h-full bg-green-500 rounded-full",style:{width:"".concat(s,"%")}})})]},t)})})]})]})]})})()]})]})},G=e=>{let{property:t,onClose:s,onEvictTenant:a,isCardDeck:n=!1}=e;if(!t.currentTenant)return null;let l=t.currentTenant,i=(()=>{if(!t.tenantEvents)return{onTime:0,late:0,missed:0,total:0};let e=t.tenantEvents.reduce((e,t)=>("RENT_PAID"===t.type?e.onTime++:"RENT_LATE"===t.type?e.late++:"RENT_MISSED"===t.type&&e.missed++,e),{onTime:0,late:0,missed:0,total:0});return e.total=e.onTime+e.late+e.missed,e})(),c=l.monthlyIncome/t.rentPrice,o=(()=>{if(!l.leaseStart||!l.leaseLength)return 0;let e=new Date(new Date(l.leaseStart));e.setMonth(e.getMonth()+l.leaseLength);let t=new Date;return Math.max(0,(e.getFullYear()-t.getFullYear())*12+(e.getMonth()-t.getMonth()))})(),d=()=>(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"bg-gray-700 p-4 rounded",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-3",children:"Tenant Overview"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-y-2",children:[(0,r.jsx)("span",{className:"text-gray-400",children:"Name:"}),(0,r.jsx)("span",{children:l.name}),(0,r.jsx)("span",{className:"text-gray-400",children:"Occupation:"}),(0,r.jsx)("span",{children:l.occupation}),(0,r.jsx)("span",{className:"text-gray-400",children:"Monthly Income:"}),(0,r.jsxs)("span",{children:["$",l.monthlyIncome.toLocaleString()]}),(0,r.jsx)("span",{className:"text-gray-400",children:"Income/Rent Ratio:"}),(0,r.jsxs)("span",{className:c>3?"text-green-400":c>2?"text-yellow-400":"text-red-400",children:[c.toFixed(1),"x"]}),(0,r.jsx)("span",{className:"text-gray-400",children:"Credit Score:"}),(0,r.jsx)("span",{className:l.creditScore>700?"text-green-400":l.creditScore>600?"text-yellow-400":"text-red-400",children:l.creditScore}),(0,r.jsx)("span",{className:"text-gray-400",children:"Family Size:"}),(0,r.jsxs)("span",{children:[l.familySize," ",l.familySize>1?"people":"person"]}),(0,r.jsx)("span",{className:"text-gray-400",children:"Has Pets:"}),(0,r.jsx)("span",{children:l.pets?"Yes":"No"}),(0,r.jsx)("span",{className:"text-gray-400",children:"Smoker:"}),(0,r.jsx)("span",{children:l.smoker?"Yes":"No"})]})]}),(0,r.jsxs)("div",{className:"bg-gray-700 p-4 rounded",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-3",children:"Lease Details"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-y-2",children:[(0,r.jsx)("span",{className:"text-gray-400",children:"Lease Term:"}),(0,r.jsxs)("span",{children:[l.leaseLength," months"]}),(0,r.jsx)("span",{className:"text-gray-400",children:"Monthly Rent:"}),(0,r.jsxs)("span",{className:"text-green-400",children:["$",t.rentPrice.toLocaleString()]}),(0,r.jsx)("span",{className:"text-gray-400",children:"Lease Start:"}),(0,r.jsx)("span",{children:l.leaseStart?new Date(l.leaseStart).toLocaleDateString():"N/A"}),(0,r.jsx)("span",{className:"text-gray-400",children:"Remaining:"}),(0,r.jsxs)("span",{children:[o," ",1===o?"month":"months"]})]})]}),(0,r.jsxs)("div",{className:"bg-gray-700 p-4 rounded",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-3",children:"Payment History"}),i.total>0?(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"flex items-center mb-2",children:(0,r.jsxs)("div",{className:"flex-1 bg-gray-600 h-4 rounded-full overflow-hidden",children:[(0,r.jsx)("div",{className:"bg-green-500 h-full",style:{width:"".concat(i.onTime/i.total*100,"%")}}),(0,r.jsx)("div",{className:"bg-yellow-500 h-full",style:{width:"".concat(i.late/i.total*100,"%")}}),(0,r.jsx)("div",{className:"bg-red-500 h-full",style:{width:"".concat(i.missed/i.total*100,"%")}})]})}),(0,r.jsxs)("div",{className:"grid grid-cols-3 text-center text-sm",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"inline-block w-3 h-3 bg-green-500 rounded-full mr-1"}),(0,r.jsxs)("span",{children:["On-time: ",i.onTime]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"inline-block w-3 h-3 bg-yellow-500 rounded-full mr-1"}),(0,r.jsxs)("span",{children:["Late: ",i.late]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"inline-block w-3 h-3 bg-red-500 rounded-full mr-1"}),(0,r.jsxs)("span",{children:["Missed: ",i.missed]})]})]})]}):(0,r.jsx)("p",{className:"text-gray-400",children:"No payment history yet."})]}),(0,r.jsxs)("div",{className:"bg-gray-700 p-4 rounded",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-3",children:"Tenant History"}),t.tenantEvents&&t.tenantEvents.length>0?(0,r.jsx)("div",{className:"space-y-2 max-h-[200px] overflow-y-auto",children:t.tenantEvents.slice().reverse().map((e,t)=>(0,r.jsxs)("div",{className:"p-2 border-l-4 text-sm",style:{borderLeftColor:"RENT_PAID"===e.type?"#10B981":"DAMAGE"===e.type?"#EF4444":"RENT_LATE"===e.type?"#F59E0B":"RENT_MISSED"===e.type?"#DC2626":"COMPLAINT"===e.type?"#6366F1":"#6B7280"},children:[(0,r.jsxs)("div",{className:"flex justify-between mb-1",children:[(0,r.jsx)("span",{className:"font-medium",children:"RENT_PAID"===e.type?"Payment Received":"RENT_LATE"===e.type?"Late Payment":"RENT_MISSED"===e.type?"Missed Payment":"DAMAGE"===e.type?"Property Damage":"COMPLAINT"===e.type?"Tenant Issue":"LEASE_BREAK"===e.type?"Lease Break":"RENEWAL"===e.type?"Lease Renewal":"Event"}),(0,r.jsx)("span",{className:"text-xs text-gray-400",children:new Date(e.date).toLocaleDateString()})]}),(0,r.jsx)("p",{className:"text-gray-300",children:e.description}),0!==e.financialImpact&&(0,r.jsxs)("p",{className:e.financialImpact>0?"text-green-400":"text-red-400",children:["Financial Impact: $",Math.abs(e.financialImpact).toLocaleString()]})]},t))}):(0,r.jsx)("p",{className:"text-gray-400",children:"No events recorded yet."})]}),a&&(0,r.jsxs)("div",{className:"mt-6",children:[(0,r.jsx)("button",{className:"w-full px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded",onClick:()=>{a&&(a(t.id),s())},children:"Evict Tenant"}),(0,r.jsx)("p",{className:"text-xs text-gray-400 mt-2",children:"Warning: Eviction costs $1,000 in legal fees and may leave your property vacant."})]})]});return n?d():(0,r.jsx)("div",{className:"fixed inset-0 flex items-center justify-center z-50 bg-black bg-opacity-75",children:(0,r.jsxs)("div",{className:"bg-gray-800 rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto p-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,r.jsxs)("h2",{className:"text-2xl font-bold",children:["Tenant Details: ",l.name]}),(0,r.jsx)("button",{onClick:s,className:"text-gray-400 hover:text-white text-2xl font-bold",children:"\xd7"})]}),d()]})})},V=e=>{let{property:t,applications:s,onClose:a,onAcceptApplication:n,isCardDeck:l=!1}=e;if(0===s.length)return(0,r.jsxs)("div",{className:"p-4 text-center",children:[(0,r.jsx)("p",{children:"No applications received yet. Check back later."}),(0,r.jsx)("button",{className:"mt-4 px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded",onClick:a,children:"Close"})]});let i=()=>(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("p",{className:"text-blue-400",children:["You have ",s.length," lease applications for this property."]}),s.map((e,s)=>{let a=e.tenant,l=a.monthlyIncome/t.rentPrice;return(0,r.jsxs)("div",{className:"bg-gray-700 p-4 rounded",children:[(0,r.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,r.jsx)("h3",{className:"font-semibold text-lg",children:a.name}),(0,r.jsx)("div",{className:"flex items-center",children:(0,r.jsxs)("span",{className:"px-2 py-1 rounded text-xs ".concat(a.creditScore>700?"bg-green-500 text-white":a.creditScore>600?"bg-yellow-500 text-black":"bg-red-500 text-white"),children:["Credit: ",a.creditScore]})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-2 mb-4",children:[(0,r.jsx)("span",{className:"text-gray-400",children:"Occupation:"}),(0,r.jsx)("span",{children:a.occupation}),(0,r.jsx)("span",{className:"text-gray-400",children:"Monthly Income:"}),(0,r.jsxs)("span",{children:["$",a.monthlyIncome.toLocaleString()]}),(0,r.jsx)("span",{className:"text-gray-400",children:"Income/Rent Ratio:"}),(0,r.jsxs)("span",{className:l>3?"text-green-400":l>2?"text-yellow-400":"text-red-400",children:[l.toFixed(1),"x"]}),(0,r.jsx)("span",{className:"text-gray-400",children:"Family Size:"}),(0,r.jsxs)("span",{children:[a.familySize," ",a.familySize>1?"people":"person"]}),(0,r.jsx)("span",{className:"text-gray-400",children:"Has Pets:"}),(0,r.jsx)("span",{children:a.pets?"Yes":"No"}),(0,r.jsx)("span",{className:"text-gray-400",children:"Smoker:"}),(0,r.jsx)("span",{children:a.smoker?"Yes":"No"}),(0,r.jsx)("span",{className:"text-gray-400",children:"Desired Lease:"}),(0,r.jsxs)("span",{children:[e.desiredLeaseLength," months"]}),(0,r.jsx)("span",{className:"text-gray-400",children:"References:"}),(0,r.jsx)("span",{children:a.references}),(0,r.jsx)("span",{className:"text-gray-400",children:"Previous Evictions:"}),(0,r.jsx)("span",{className:a.rentalHistory.evictions>0?"text-red-400":"",children:a.rentalHistory.evictions})]}),(0,r.jsx)("div",{className:"mt-4",children:(0,r.jsx)("button",{className:"px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded w-full",onClick:()=>n(t,e),children:"Accept Application"})})]},s)})]});return l?i():(0,r.jsx)("div",{className:"fixed inset-0 flex items-center justify-center z-50 bg-black bg-opacity-75",children:(0,r.jsxs)("div",{className:"bg-gray-800 rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto p-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold",children:"Lease Applications"}),(0,r.jsx)("button",{onClick:a,className:"text-gray-400 hover:text-white text-2xl font-bold",children:"\xd7"})]}),i()]})})},$=e=>{let{property:t,isOpen:s,onClose:a,onBuyOrSell:l,onRent:i,onRenovate:o,onEvictTenant:d,playerMoney:m=0,isOutsourced:h=!1,onToggleOutsource:x,handleAcceptApplication:u,setPaused:p}=e,[g,y]=(0,n.useState)(!1),[b,j]=(0,n.useState)(!1),[N,f]=(0,n.useState)(!1),[v,w]=(0,n.useState)(!1);(0,n.useEffect)(()=>(s&&(document.body.style.overflow="hidden",p&&p(!0)),()=>{document.body.style.overflow=""}),[s,p]);let M=()=>{if(!N){if(b){A();return}if(g){y(!1);return}f(!0),setTimeout(()=>{p&&p(!1),a(),f(!1)},300)}},A=()=>{v||(w(!0),setTimeout(()=>{j(!1),w(!1)},300))};if(!s)return null;let E="Player"===t.owner,O=t.type===c.LAND,T=Math.max(5e3,Math.round(.005*t.value)),R=()=>{i&&(t.isRented?i(t.id):j(!0))},S=(()=>{if(!E||!t.purchaseDate)return null;let e=t.value-t.marketPrice,s=e/t.marketPrice*100,a=new Date(t.purchaseDate),r=new Date,n=(r.getFullYear()-a.getFullYear())*12+(r.getMonth()-a.getMonth()),l=n/12,i=l>0?(Math.pow(1+e/t.marketPrice,1/l)-1)*100:0;return{valueGain:e,percentageGain:s,monthsHeld:n,annualizedROI:i}})();return(0,r.jsxs)("div",{className:"fixed inset-0 flex items-end justify-center z-50 bg-transparent backdrop-blur-sm transition-backdrop-blur",onClick:M,children:[(0,r.jsxs)("div",{className:"bg-gray-800 w-full max-h-[75vh] rounded-t-xl shadow-xl overflow-auto ".concat(N?"animate-slide-down":"animate-slide-up"),onClick:e=>e.stopPropagation(),children:[(0,r.jsxs)("div",{className:"sticky top-0 bg-gray-800 z-10 px-6 pt-4 pb-2 flex justify-between items-start border-b border-gray-700",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold",children:t.address}),(0,r.jsx)("button",{onClick:M,className:"text-gray-400 hover:text-white text-2xl font-bold",children:"\xd7"})]}),(0,r.jsxs)("div",{className:"px-6 py-4",children:[(0,r.jsx)("div",{className:"mb-6 text-gray-300",children:(0,r.jsx)("p",{className:"italic",children:t.description})}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[(0,r.jsxs)("div",{className:"bg-gray-700 p-4 rounded",children:[(0,r.jsx)("h3",{className:"text-lg font-medium mb-2 text-blue-400",children:"Property Details"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-y-2",children:[(0,r.jsx)("span",{className:"text-gray-400",children:"Type:"}),(0,r.jsx)("span",{children:t.type}),(0,r.jsx)("span",{className:"text-gray-400",children:"Size:"}),(0,r.jsxs)("span",{children:[t.size.toLocaleString()," m\xb2"]}),null!==t.rooms&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"text-gray-400",children:"Rooms:"}),(0,r.jsx)("span",{children:t.rooms})]}),(0,r.jsx)("span",{className:"text-gray-400",children:"Location:"}),(0,r.jsx)("span",{children:t.location}),(0,r.jsx)("span",{className:"text-gray-400",children:"Neighborhood:"}),(0,r.jsx)("span",{children:t.neighborhoodQuality}),(0,r.jsx)("span",{className:"text-gray-400",children:"View:"}),(0,r.jsx)("span",{children:t.viewQuality}),t.lotSize&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"text-gray-400",children:"Lot Size:"}),(0,r.jsxs)("span",{children:[t.lotSize.toLocaleString()," m\xb2"]})]}),(0,r.jsx)("span",{className:"text-gray-400",children:"Built:"}),(0,r.jsx)("span",{children:t.buildingDate.toLocaleDateString()}),(0,r.jsx)("span",{className:"text-gray-400",children:"Renovation Potential:"}),(0,r.jsx)("span",{children:t.renovationPotential}),E&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"text-gray-400",children:"Renovation Level:"}),(0,r.jsxs)("span",{children:[t.renovationBonusPercentage,"%"]}),(0,r.jsx)("span",{className:"text-gray-400",children:"Monthly Maintenance:"}),(0,r.jsxs)("span",{className:"text-red-400",children:["$",t.maintenanceCosts.toLocaleString()]})]})]})]}),(0,r.jsxs)("div",{className:"bg-gray-700 p-4 rounded",children:[(0,r.jsx)("h3",{className:"text-lg font-medium mb-2 text-blue-400",children:"Financial Details"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-y-2",children:[E?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"text-gray-400",children:"Purchase Price:"}),(0,r.jsxs)("span",{children:["$",t.marketPrice.toLocaleString()]}),(0,r.jsx)("span",{className:"text-gray-400",children:"Current Value:"}),(0,r.jsxs)("span",{className:"text-green-400",children:["$",t.value.toLocaleString()]}),S&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"text-gray-400",children:"Value Gain:"}),(0,r.jsxs)("span",{className:S.valueGain>=0?"text-green-400":"text-red-400",children:["$",S.valueGain.toLocaleString()," (",S.percentageGain.toFixed(2),"%)"]}),(0,r.jsx)("span",{className:"text-gray-400",children:"Annualized ROI:"}),(0,r.jsxs)("span",{className:S.annualizedROI>=0?"text-green-400":"text-red-400",children:[S.annualizedROI.toFixed(2),"%"]}),(0,r.jsx)("span",{className:"text-gray-400",children:"Holding Period:"}),(0,r.jsxs)("span",{children:[S.monthsHeld," months"]})]})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"text-gray-400",children:"Market Price:"}),(0,r.jsxs)("span",{children:["$",t.marketPrice.toLocaleString()]}),(0,r.jsx)("span",{className:"text-gray-400",children:"Price per m\xb2:"}),(0,r.jsxs)("span",{children:["$",Math.round(t.marketPrice/t.size)]})]}),t.isRented&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"text-gray-400",children:"Rental Income:"}),(0,r.jsxs)("span",{className:"text-green-400",children:["$",t.rentPrice.toLocaleString(),"/month"]}),(0,r.jsx)("span",{className:"text-gray-400",children:"Tenant:"}),(0,r.jsxs)("button",{className:"text-blue-400 hover:underline text-left",onClick:e=>{e.stopPropagation(),y(!0)},children:[t.rentee," (View details)"]}),t.currentTenant&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"text-gray-400",children:"Lease Term:"}),(0,r.jsxs)("span",{children:[t.currentTenant.leaseLength," months"]})]})]}),E&&!t.isRented&&!O&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"text-gray-400",children:"Potential Rent:"}),(0,r.jsxs)("span",{children:["$",t.rentPrice.toLocaleString(),"/month"]})]})]})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[(0,r.jsxs)("div",{className:"bg-gray-700 p-4 rounded",children:[(0,r.jsx)("h3",{className:"text-lg font-medium mb-2 text-blue-400",children:"Market Trends"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-y-2",children:[(0,r.jsx)("span",{className:"text-gray-400",children:"Historical Appreciation:"}),(0,r.jsxs)("span",{children:[t.marketTrends.historicalAppreciation.toFixed(1),"%"]}),(0,r.jsx)("span",{className:"text-gray-400",children:"Job Growth:"}),(0,r.jsxs)("span",{children:[t.economicIndicators.jobGrowth.toFixed(1),"%"]}),(0,r.jsx)("span",{className:"text-gray-400",children:"Property Supply:"}),(0,r.jsxs)("span",{children:[t.marketTrends.propertySupply," listings"]}),(0,r.jsx)("span",{className:"text-gray-400",children:"Avg Days on Market:"}),(0,r.jsxs)("span",{children:[t.marketTrends.averageDaysOnMarket," days"]}),(0,r.jsx)("span",{className:"text-gray-400",children:"Local Population:"}),(0,r.jsx)("span",{children:t.economicIndicators.population.toLocaleString()}),(0,r.jsx)("span",{className:"text-gray-400",children:"Unemployment Rate:"}),(0,r.jsxs)("span",{children:[t.economicIndicators.unemploymentRate.toFixed(1),"%"]})]})]}),(0,r.jsxs)("div",{className:"bg-gray-700 p-4 rounded",children:[(0,r.jsx)("h3",{className:"text-lg font-medium mb-2 text-blue-400",children:"Amenities & Features"}),(0,r.jsxs)("div",{className:"mb-3",children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-y-2",children:[(0,r.jsx)("span",{className:"text-gray-400",children:"Schools:"}),(0,r.jsx)("div",{className:"flex items-center"}),(0,r.jsx)("div",{className:"w-24 bg-gray-600 rounded-full h-2.5 mr-2",children:(0,r.jsx)("div",{className:"bg-blue-500 h-2.5 rounded-full",style:{width:"".concat(20*t.amenities.schools,"%")}})}),(0,r.jsxs)("span",{children:[t.amenities.schools.toFixed(1),"/5"]})]}),(0,r.jsx)("span",{className:"text-gray-400",children:"Parks:"}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"w-24 bg-gray-600 rounded-full h-2.5 mr-2",children:(0,r.jsx)("div",{className:"bg-blue-500 h-2.5 rounded-full",style:{width:"".concat(20*t.amenities.parks,"%")}})}),(0,r.jsxs)("span",{children:[t.amenities.parks.toFixed(1),"/5"]})]}),(0,r.jsx)("span",{className:"text-gray-400",children:"Shopping:"}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"w-24 bg-gray-600 rounded-full h-2.5 mr-2",children:(0,r.jsx)("div",{className:"bg-blue-500 h-2.5 rounded-full",style:{width:"".concat(20*t.amenities.shopping,"%")}})}),(0,r.jsxs)("span",{children:[t.amenities.shopping.toFixed(1),"/5"]})]}),(0,r.jsx)("span",{className:"text-gray-400",children:"Transportation:"}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"w-24 bg-gray-600 rounded-full h-2.5 mr-2",children:(0,r.jsx)("div",{className:"bg-blue-500 h-2.5 rounded-full",style:{width:"".concat(20*t.amenities.transportation,"%")}})}),(0,r.jsxs)("span",{children:[t.amenities.transportation.toFixed(1),"/5"]})]}),(0,r.jsx)("span",{className:"text-gray-400",children:"Healthcare:"}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"w-24 bg-gray-600 rounded-full h-2.5 mr-2",children:(0,r.jsx)("div",{className:"bg-blue-500 h-2.5 rounded-full",style:{width:"".concat(20*t.amenities.healthcare,"%")}})}),(0,r.jsxs)("span",{children:[t.amenities.healthcare.toFixed(1),"/5"]})]})]})]}),!O&&(0,r.jsxs)("div",{className:"mt-4",children:[(0,r.jsx)("h4",{className:"font-medium text-sm text-gray-400 mb-2",children:"Special Features:"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-y-1 gap-x-4",children:[t.specialFeatures.swimmingPool&&(0,r.jsx)("span",{children:" Swimming pool"}),t.specialFeatures.garden&&(0,r.jsx)("span",{children:" Garden"}),t.specialFeatures.rooftopTerrace&&(0,r.jsx)("span",{children:" Rooftop terrace"}),t.specialFeatures.balcony&&(0,r.jsx)("span",{children:" Balcony"}),t.specialFeatures.fireplace&&(0,r.jsx)("span",{children:" Fireplace"}),t.specialFeatures.homeOffice&&(0,r.jsx)("span",{children:" Home office"}),t.specialFeatures.garage&&(0,r.jsx)("span",{children:" Garage"}),t.specialFeatures.outdoorSpaces&&(0,r.jsx)("span",{children:" Outdoor spaces"}),t.specialFeatures.smartHome&&(0,r.jsx)("span",{children:" Smart home"}),t.specialFeatures.securitySystem&&(0,r.jsx)("span",{children:" Security system"})]})]})]})]}),(0,r.jsxs)("div",{className:"bg-gray-700 p-4 rounded mb-6",children:[(0,r.jsx)("h3",{className:"text-lg font-medium mb-3 text-blue-400",children:"Actions"}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-3",children:[l&&(0,r.jsx)("button",{className:"px-4 py-2 rounded ".concat(E?"bg-red-500 hover:bg-red-600 text-white":"bg-green-500 hover:bg-green-600 text-white"),onClick:e=>{e.stopPropagation(),l(t.id),M()},children:E?"Sell for $".concat(t.value.toLocaleString()):"Buy for $".concat(t.marketPrice.toLocaleString())}),E&&!O&&i&&(0,r.jsx)("button",{className:"px-4 py-2 rounded ".concat(t.isRented?"bg-orange-500 hover:bg-orange-600":"bg-blue-500 hover:bg-blue-600"," text-white"),onClick:e=>{e.stopPropagation(),R()},children:t.isRented?"End Lease":"Find Tenants"}),E&&o&&(0,r.jsxs)("button",{className:"px-4 py-2 bg-yellow-500 hover:bg-yellow-600 text-white rounded disabled:bg-gray-400 disabled:text-gray-200",onClick:e=>{e.stopPropagation(),o(t.id)},disabled:t.renovationBonusPercentage>=100||t.isRented||void 0!==m&&m<T,children:["Renovate ($",T.toLocaleString(),")"]}),E&&t.isRented&&d&&(0,r.jsx)("button",{className:"px-4 py-2 bg-red-700 hover:bg-red-800 text-white rounded",onClick:e=>{e.stopPropagation(),d(t.id),M()},children:"Evict Tenant"}),E&&!O&&x&&(0,r.jsx)("button",{className:"px-4 py-2 rounded ".concat(h?"bg-purple-500 hover:bg-purple-600":"bg-gray-500 hover:bg-gray-600"," text-white"),onClick:e=>{e.stopPropagation(),x(t.id)},children:h?"Stop Outsourcing":"Outsource Management"})]}),E&&h&&(0,r.jsx)("div",{className:"mt-3 p-2 bg-purple-900/30 rounded",children:(0,r.jsx)("p",{className:"text-sm",children:"\uD83C\uDFE2 Property management outsourced"})}),O&&E&&(0,r.jsx)("div",{className:"mt-3 p-2 bg-blue-900/30 rounded text-sm",children:(0,r.jsx)("p",{children:"This is a land property. Development options will be available in future updates."})})]})]}),b&&t.leaseApplications&&(0,r.jsx)("div",{className:"fixed inset-0 flex items-end justify-center z-[60]",onClick:e=>{e.stopPropagation(),A()},children:(0,r.jsxs)("div",{className:"bg-gray-700 w-full max-h-[60vh] rounded-t-xl shadow-xl overflow-auto ".concat(v?"animate-slide-down":"animate-slide-up"),onClick:e=>e.stopPropagation(),children:[(0,r.jsxs)("div",{className:"sticky top-0 bg-gray-700 z-10 px-6 pt-4 pb-2 flex justify-between items-start border-b border-gray-600",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold",children:"Lease Applications"}),(0,r.jsx)("button",{onClick:A,className:"text-gray-400 hover:text-white text-2xl font-bold",children:"\xd7"})]}),(0,r.jsx)("div",{className:"p-4",children:(0,r.jsx)(V,{property:t,applications:t.leaseApplications,onClose:A,onAcceptApplication:(e,t)=>{u&&(u(e,t),A())},isCardDeck:!0})})]})}),g&&t.currentTenant&&(0,r.jsx)("div",{className:"fixed inset-0 flex items-end justify-center z-[60]",onClick:e=>{e.stopPropagation(),y(!1)},children:(0,r.jsxs)("div",{className:"bg-gray-700 w-full max-h-[60vh] rounded-t-xl shadow-xl overflow-auto animate-slide-up",onClick:e=>e.stopPropagation(),children:[(0,r.jsxs)("div",{className:"sticky top-0 bg-gray-700 z-10 px-6 pt-4 pb-2 flex justify-between items-start border-b border-gray-600",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold",children:"Tenant Details"}),(0,r.jsx)("button",{onClick:()=>y(!1),className:"text-gray-400 hover:text-white text-2xl font-bold",children:"\xd7"})]}),(0,r.jsx)("div",{className:"p-4",children:(0,r.jsx)(G,{property:t,onClose:()=>y(!1),onEvictTenant:d||(()=>{}),isCardDeck:!0})})]})})]})},z=e=>{let{property:t,onBuyOrSell:s,onRent:a,onRenovate:l,onEvictTenant:i,playerMoney:o,isOutsourced:d=!1,onToggleOutsource:m,handleAcceptApplication:h,setPaused:x}=e,[u,p]=(0,n.useState)(!1),g="Player"===t.owner,y=t.type===c.LAND,b=t.isNew&&!g,j=g?(t.isRented?t.rentPrice:0)-t.maintenanceCosts:0;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"border p-4 rounded shadow cursor-pointer hover:shadow-lg transition-shadow ".concat(g&&d?"bg-purple-100 border-purple-300 text-gray-900":g?"bg-blue-100 border-blue-300 text-gray-900":"bg-gray-800 border-gray-600 text-white"),onClick:()=>p(!0),children:[(0,r.jsxs)("div",{className:"flex justify-between items-start",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold",children:t.address.split(",")[0]}),b&&(0,r.jsx)("span",{className:"bg-red-600 text-white px-3 py-1 rounded-full text-xs font-bold",children:"NEW"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-y-1 mt-2",children:[(0,r.jsx)("span",{className:"text-sm opacity-80",children:"Type:"}),(0,r.jsx)("span",{className:"text-sm font-medium",children:t.type}),(0,r.jsx)("span",{className:"text-sm opacity-80",children:"Size:"}),(0,r.jsxs)("span",{className:"text-sm font-medium",children:[t.size.toLocaleString()," m\xb2"]}),(0,r.jsx)("span",{className:"text-sm opacity-80",children:"Location:"}),(0,r.jsx)("span",{className:"text-sm font-medium",children:t.location}),(0,r.jsx)("span",{className:"text-sm opacity-80",children:"Quality:"}),(0,r.jsx)("span",{className:"text-sm font-medium",children:t.neighborhoodQuality})]}),g?(0,r.jsxs)("div",{className:"mt-3 p-2 bg-opacity-20 rounded",style:{backgroundColor:j>=0?"rgba(34, 197, 94, 0.2)":"rgba(239, 68, 68, 0.2)"},children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("span",{children:"Current Value:"}),(0,r.jsxs)("span",{className:"font-semibold",children:["$",t.value.toLocaleString()]})]}),t.isRented&&(0,r.jsxs)("div",{className:"flex justify-between items-center mt-1",children:[(0,r.jsx)("span",{children:"Monthly Cash Flow:"}),(0,r.jsxs)("span",{className:"font-semibold ".concat(j>=0?"text-green-500":"text-red-500"),children:["$",j.toLocaleString()]})]})]}):(0,r.jsxs)("div",{className:"mt-3 p-2 bg-gray-700 bg-opacity-40 rounded",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{children:"Market Price:"}),(0,r.jsxs)("span",{className:"font-semibold",children:["$",t.marketPrice.toLocaleString()]})]}),(0,r.jsxs)("div",{className:"flex justify-between text-sm mt-1",children:[(0,r.jsx)("span",{children:"Investment Potential:"}),(0,r.jsx)("span",{children:t.renovationPotential})]})]}),(0,r.jsxs)("div",{className:"mt-3 flex flex-wrap gap-2",children:[t.isRented&&(0,r.jsx)("span",{className:"px-2 py-1 text-xs rounded-full bg-green-500 text-white",children:"Rented"}),d&&(0,r.jsx)("span",{className:"px-2 py-1 text-xs rounded-full bg-purple-500 text-white",children:"Outsourced"}),t.renovationBonusPercentage>50&&(0,r.jsx)("span",{className:"px-2 py-1 text-xs rounded-full bg-yellow-500 text-white",children:"Well-renovated"}),y&&(0,r.jsx)("span",{className:"px-2 py-1 text-xs rounded-full bg-blue-500 text-white",children:"Land"})]}),(0,r.jsx)("div",{className:"mt-3 text-xs opacity-70",children:"Click for more details"})]}),u&&(0,r.jsx)($,{property:t,isOpen:u,onClose:()=>p(!1),onBuyOrSell:s,onRent:a,onRenovate:l,onEvictTenant:i,playerMoney:o,isOutsourced:d,onToggleOutsource:m,handleAcceptApplication:h,setPaused:x})]})};var J=s(351);let q=e=>{let{properties:t,onBuyOrSell:s,onRent:a,onRenovate:l,onEvictTenant:i,playerMoney:c,handleAcceptApplication:o,setPaused:d}=e,[m,h]=(0,n.useState)("newest"),[x,u]=(0,n.useState)(!1),[p,g]=(0,n.useState)([0,1e7]),[y,b]=(0,n.useState)([]),[j,N]=(0,n.useState)([]),[f,v]=(0,n.useState)(0),[w,M]=(0,n.useState)("any"),A=(0,n.useMemo)(()=>{let e=new Set,s=new Set,a=Number.MAX_VALUE,r=0;return t.forEach(t=>{null===t.owner&&(e.add(t.location),s.add(t.type),a=Math.min(a,t.marketPrice),r=Math.max(r,t.marketPrice))}),{locations:Array.from(e).sort(),types:Array.from(s),priceRange:[a===Number.MAX_VALUE?0:a,0===r?1e7:r]}},[t]),E=(0,n.useMemo)(()=>{let e=t.filter(e=>!(null!==e.owner||e.marketPrice<p[0]||e.marketPrice>p[1]||y.length>0&&!y.includes(e.location)||j.length>0&&!j.includes(e.type)||(e.renovationBonusPercentage||0)<f||"any"!==w&&("growing"===w&&e.marketTrends.historicalAppreciation<=0||"declining"===w&&e.marketTrends.historicalAppreciation>=0||"stable"===w&&Math.abs(e.marketTrends.historicalAppreciation)>.01)));switch(m){case"newest":return e.sort((e,t)=>t.listedDate.getTime()-e.listedDate.getTime());case"oldest":return e.sort((e,t)=>e.listedDate.getTime()-t.listedDate.getTime());case"price-asc":return e.sort((e,t)=>e.marketPrice-t.marketPrice);case"price-desc":return e.sort((e,t)=>t.marketPrice-e.marketPrice);case"size-asc":return e.sort((e,t)=>e.size-t.size);case"size-desc":return e.sort((e,t)=>t.size-e.size);default:return e}},[t,m,p,y,j,f,w]),O=t.filter(e=>null===e.owner).length;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold",children:"Property Market"}),(0,r.jsxs)("button",{className:"flex items-center bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded",onClick:()=>u(!x),children:[(0,r.jsx)(J.K7R,{className:"mr-2"}),"Filters"," ",x?(0,r.jsx)(J.wAb,{className:"ml-1"}):(0,r.jsx)(J.fK4,{className:"ml-1"})]})]}),x&&(0,r.jsxs)("div",{className:"bg-gray-800 p-4 rounded-lg mb-4 shadow-lg",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,r.jsx)("h3",{className:"font-semibold text-lg",children:"Filter Properties"}),(0,r.jsx)("button",{className:"text-sm text-blue-400 hover:text-blue-300",onClick:()=>{g(A.priceRange),b([]),N([]),v(0),M("any")},children:"Reset Filters"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{className:"mb-3",children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Price Range"}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("input",{type:"number",className:"bg-gray-700 text-white p-2 rounded w-full",value:p[0],onChange:e=>g([Number(e.target.value),p[1]]),min:A.priceRange[0],max:p[1],placeholder:"Min price"}),(0,r.jsx)("span",{children:"to"}),(0,r.jsx)("input",{type:"number",className:"bg-gray-700 text-white p-2 rounded w-full",value:p[1],onChange:e=>g([p[0],Number(e.target.value)]),min:p[0],max:A.priceRange[1],placeholder:"Max price"})]})]}),(0,r.jsxs)("div",{className:"mb-3",children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Location"}),(0,r.jsx)("select",{className:"bg-gray-700 text-white p-2 rounded w-full",multiple:!0,value:y,onChange:e=>b(Array.from(e.target.selectedOptions,e=>e.value)),size:3,children:A.locations.map(e=>(0,r.jsx)("option",{value:e,children:e},e))}),(0,r.jsx)("div",{className:"text-xs text-gray-400 mt-1",children:"Hold Ctrl to select multiple"})]}),(0,r.jsxs)("div",{className:"mb-3",children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Property Type"}),(0,r.jsx)("div",{className:"space-y-1",children:A.types.map(e=>(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"checkbox",id:"type-".concat(e),checked:j.includes(e),onChange:t=>{t.target.checked?N([...j,e]):N(j.filter(t=>t!==e))},className:"mr-2"}),(0,r.jsx)("label",{htmlFor:"type-".concat(e),children:e})]},e))})]}),(0,r.jsxs)("div",{className:"mb-3",children:[(0,r.jsxs)("label",{className:"block text-sm font-medium mb-1",children:["Minimum Condition: ",f,"%"]}),(0,r.jsx)("input",{type:"range",min:"0",max:"100",value:f,onChange:e=>v(Number(e.target.value)),className:"w-full"})]}),(0,r.jsxs)("div",{className:"mb-3",children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Market Trend"}),(0,r.jsxs)("select",{className:"bg-gray-700 text-white p-2 rounded w-full",value:w,onChange:e=>M(e.target.value),children:[(0,r.jsx)("option",{value:"any",children:"Any"}),(0,r.jsx)("option",{value:"growing",children:"Growing Market"}),(0,r.jsx)("option",{value:"stable",children:"Stable Market"}),(0,r.jsx)("option",{value:"declining",children:"Declining Market"})]})]})]})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,r.jsxs)("div",{className:"text-sm text-gray-400",children:["Showing ",E.length," of ",O," properties"]}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("span",{className:"mr-2",children:"Sort by:"}),(0,r.jsxs)("select",{className:"border p-1 rounded bg-gray-700 text-white",value:m,onChange:e=>h(e.target.value),children:[(0,r.jsx)("option",{value:"newest",children:"Newest First"}),(0,r.jsx)("option",{value:"oldest",children:"Oldest First"}),(0,r.jsx)("option",{value:"price-asc",children:"Price: Low to High"}),(0,r.jsx)("option",{value:"price-desc",children:"Price: High to Low"}),(0,r.jsx)("option",{value:"size-asc",children:"Size: Smallest First"}),(0,r.jsx)("option",{value:"size-desc",children:"Size: Largest First"}),(0,r.jsx)("option",{value:"default",children:"Default"})]})]})]}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:E.map(e=>(0,r.jsx)(z,{property:e,onBuyOrSell:s,onRent:a,onRenovate:l,onEvictTenant:i,playerMoney:c,handleAcceptApplication:o,setPaused:d},e.id))}),0===E.length&&(0,r.jsxs)("div",{className:"text-center py-10 text-gray-400",children:[(0,r.jsx)("p",{children:"No properties matching your filters are currently available."}),(0,r.jsx)("p",{className:"mt-2",children:"Try adjusting your filters or check back soon as new listings appear regularly!"})]})]})},K=e=>{let{properties:t,onBuyOrSell:s,onRent:a,onRenovate:l,onEvictTenant:i,playerMoney:c,outsourcedProperties:o=new Set,onToggleOutsource:d,handleAcceptApplication:m,setPaused:h}=e,x=t.filter(e=>"Player"===e.owner),[u,p]=(0,n.useState)("default"),g=n.useMemo(()=>"value"===u?[...x].sort((e,t)=>t.value-e.value):"rent"===u?[...x].sort((e,t)=>(t.isRented?t.rentPrice:0)-(e.isRented?e.rentPrice:0)):x,[x,u]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold",children:"My Properties"}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("span",{className:"mr-2",children:"Sort by:"}),(0,r.jsxs)("select",{className:"border p-1 rounded bg-gray-700 text-white",value:u,onChange:e=>p(e.target.value),children:[(0,r.jsx)("option",{value:"default",children:"Default"}),(0,r.jsx)("option",{value:"value",children:"Highest Value"}),(0,r.jsx)("option",{value:"rent",children:"Highest Rent"})]})]})]}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:g.map(e=>(0,r.jsx)(z,{property:e,onBuyOrSell:s,onRent:a,onRenovate:l,onEvictTenant:i,playerMoney:c,isOutsourced:o.has(e.id),onToggleOutsource:d,handleAcceptApplication:m,setPaused:h},e.id))}),0===x.length&&(0,r.jsxs)("div",{className:"text-center py-10 text-gray-400",children:[(0,r.jsx)("p",{children:"You don't own any properties yet."}),(0,r.jsx)("p",{className:"mt-2",children:"Purchase properties from the market to grow your portfolio!"})]})]})},Q=e=>{let{playerMoney:t,totalDebt:s,monthlyRepayment:a,currentInterestRate:l,bankCreditScore:i,maxLoanAmount:c,maxLoanToValueRatio:o,currentDebtRatio:d,paymentHistory:m,interestRateHistory:h,consecutivePayments:x,nextRateChangeDate:u,onTakeLoan:p,onRepayLoan:g,assetValue:y,adminFeeFixed:b,adminFeePercent:j,rateProtection:N,onPurchaseRateProtection:f,onCancelRateProtection:v}=e,[w,M]=(0,n.useState)(1e4),[A,E]=(0,n.useState)(!1),[O,T]=(0,n.useState)("loans"),R=s>0&&a>0?Math.ceil(s/a):0,S=X(i,s,y,o),C=Math.min(c,Math.max(0,y*o-s)),P=s>0?b+a*j:0,L=Math.round(.02*s),I=e=>new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric"}).format(e),k=i>=800?{label:"Excellent",color:"text-green-400"}:i>=700?{label:"Good",color:"text-green-300"}:i>=600?{label:"Fair",color:"text-yellow-400"}:i>=500?{label:"Poor",color:"text-orange-400"}:{label:"Very Poor",color:"text-red-500"};return(0,r.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Banking Center"}),(0,r.jsx)("div",{className:"mb-4 border-b border-gray-700",children:(0,r.jsxs)("nav",{className:"flex -mb-px",children:[(0,r.jsx)("button",{className:"px-4 py-2 mr-2 ".concat("loans"===O?"border-b-2 border-blue-500 text-blue-400":"text-gray-400 hover:text-gray-300"),onClick:()=>T("loans"),children:"Loans & Credit"}),(0,r.jsx)("button",{className:"px-4 py-2 mr-2 ".concat("rates"===O?"border-b-2 border-blue-500 text-blue-400":"text-gray-400 hover:text-gray-300"),onClick:()=>T("rates"),children:"Interest Rates"}),(0,r.jsx)("button",{className:"px-4 py-2 mr-2 ".concat("history"===O?"border-b-2 border-blue-500 text-blue-400":"text-gray-400 hover:text-gray-300"),onClick:()=>T("history"),children:"Payment History"}),(0,r.jsx)("button",{className:"px-4 py-2 ".concat("protection"===O?"border-b-2 border-blue-500 text-blue-400":"text-gray-400 hover:text-gray-300"),onClick:()=>T("protection"),children:"Rate Protection"})]})}),"loans"===O&&(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,r.jsx)("div",{className:"space-y-6",children:(0,r.jsxs)("div",{className:"bg-gray-700 p-4 rounded",children:[(0,r.jsx)("h3",{className:"text-lg font-medium mb-3",children:"Current Loan Status"}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{children:"Outstanding Balance:"}),(0,r.jsxs)("span",{className:"font-semibold",children:["$",s.toLocaleString()]})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{children:"Monthly Payment:"}),(0,r.jsxs)("span",{children:["$",a.toLocaleString()]})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{children:"Admin Fee:"}),(0,r.jsxs)("span",{children:["$",P.toLocaleString()]})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{children:"Total Monthly Cost:"}),(0,r.jsxs)("span",{children:["$",(a+P).toLocaleString()]})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{children:"Current Interest Rate:"}),(0,r.jsxs)("span",{children:[(100*l).toFixed(1),"%"]})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{children:"Remaining Payments:"}),(0,r.jsxs)("span",{children:[R," months"]})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{children:"Next Rate Change:"}),(0,r.jsx)("span",{children:I(u)})]}),s>0&&(0,r.jsxs)("button",{className:"w-full mt-3 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded disabled:opacity-50",onClick:()=>g(s),disabled:t<s+L,children:["Pay Off Loan ($",(s+L).toLocaleString(),")"]})]})]})}),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"bg-gray-700 p-4 rounded",children:[(0,r.jsx)("h3",{className:"text-lg font-medium mb-3",children:"Credit Status"}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{children:"Credit Score:"}),(0,r.jsxs)("span",{className:"font-semibold ".concat(k.color),children:[i," - ",k.label]})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{children:"Consecutive Payments:"}),(0,r.jsx)("span",{children:x})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{children:"Current Debt Ratio:"}),(0,r.jsxs)("span",{children:[(100*d).toFixed(1),"%"]})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{children:"Maximum Allowed Debt Ratio:"}),(0,r.jsxs)("span",{children:[(100*o).toFixed(1),"%"]})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{children:"Maximum Loan Limit:"}),(0,r.jsxs)("span",{children:["$",c.toLocaleString()]})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{children:"Loan Approval Rating:"}),(0,r.jsxs)("span",{className:S>80?"text-green-400":S>50?"text-yellow-400":"text-red-400",children:[S,"%"]})]})]})]}),(0,r.jsxs)("div",{className:"bg-gray-700 p-4 rounded",children:[(0,r.jsx)("h3",{className:"text-lg font-medium mb-3",children:"New Loan Application"}),A?(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block mb-1",children:["Loan Amount: $",w.toLocaleString()]}),(0,r.jsx)("input",{type:"range",min:1e4,max:C,step:5e3,value:w,onChange:e=>M(parseInt(e.target.value)),className:"w-full"})]}),(0,r.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,r.jsx)("span",{children:"Min: $10,000"}),(0,r.jsxs)("span",{children:["Max: $",C.toLocaleString()]})]}),(0,r.jsxs)("div",{className:"text-sm space-y-1",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{children:"Estimated Monthly Payment:"}),(0,r.jsxs)("span",{children:["$",(l/12*w).toFixed(2)]})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{children:"Admin Fee:"}),(0,r.jsxs)("span",{children:["$",(b+l/12*w*j).toFixed(2)]})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{children:"Total Monthly Cost:"}),(0,r.jsxs)("span",{children:["$",(l/12*w+b+l/12*w*j).toFixed(2)]})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{children:"Current Interest Rate:"}),(0,r.jsxs)("span",{children:[(100*l).toFixed(1),"%"]})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{children:"Approval Probability:"}),(0,r.jsxs)("span",{className:S>80?"text-green-400":S>50?"text-yellow-400":"text-red-400",children:[S,"%"]})]})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("button",{className:"flex-1 py-2 bg-green-600 hover:bg-green-700 text-white rounded",onClick:()=>{p(w),E(!1)},children:"Apply"}),(0,r.jsx)("button",{className:"flex-1 py-2 bg-gray-600 hover:bg-gray-500 text-white rounded",onClick:()=>E(!1),children:"Cancel"})]})]}):(0,r.jsx)("button",{className:"w-full py-2 bg-green-600 hover:bg-green-700 text-white rounded",onClick:()=>E(!0),children:"Apply for a New Loan"})]})]})]}),"rates"===O&&(0,r.jsxs)("div",{className:"bg-gray-700 p-4 rounded",children:[(0,r.jsx)("h3",{className:"text-lg font-medium mb-4",children:"Interest Rate History"}),(0,r.jsxs)("div",{className:"mb-6 p-4 bg-gray-800 rounded",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,r.jsx)("span",{className:"text-lg",children:"Current Rate:"}),(0,r.jsxs)("span",{className:"text-2xl font-bold text-blue-400",children:[(100*l).toFixed(1),"%"]})]}),(0,r.jsxs)("p",{className:"text-gray-400 text-sm",children:["Next rate change will occur on ",I(u),". Interest rates are reviewed quarterly and can fluctuate based on market conditions."]})]}),(0,r.jsx)("div",{className:"h-[300px] overflow-y-auto",children:(0,r.jsxs)("table",{className:"min-w-full",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"border-b border-gray-600",children:[(0,r.jsx)("th",{className:"py-2 text-left",children:"Date"}),(0,r.jsx)("th",{className:"py-2 text-right",children:"Rate"}),(0,r.jsx)("th",{className:"py-2 text-right",children:"Change"})]})}),(0,r.jsx)("tbody",{children:h.map((e,t)=>{let s=t<h.length-1?h[t+1].rate:e.rate,a=e.rate-s,n=0===a?"":a>0?"+".concat((100*a).toFixed(1),"%"):"".concat((100*a).toFixed(1),"%");return(0,r.jsxs)("tr",{className:"border-b border-gray-700",children:[(0,r.jsx)("td",{className:"py-2 text-left",children:I(e.date)}),(0,r.jsxs)("td",{className:"py-2 text-right",children:[(100*e.rate).toFixed(1),"%"]}),(0,r.jsx)("td",{className:"py-2 text-right ".concat(0===a?"":a>0?"text-red-400":"text-green-400"),children:n})]},t)})})]})}),(0,r.jsx)("div",{className:"mt-4 text-sm text-gray-400",children:(0,r.jsx)("p",{children:"*Interest rates affect all outstanding loans and future loan applications. Higher credit scores can help secure better interest rates in the future."})})]}),"history"===O&&(0,r.jsxs)("div",{className:"bg-gray-700 p-4 rounded",children:[(0,r.jsx)("h3",{className:"text-lg font-medium mb-3",children:"Payment History"}),(0,r.jsx)("div",{className:"h-[400px] overflow-y-auto",children:(0,r.jsxs)("table",{className:"min-w-full",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"border-b border-gray-600",children:[(0,r.jsx)("th",{className:"py-2 text-left",children:"Date"}),(0,r.jsx)("th",{className:"py-2 text-right",children:"Payment"}),(0,r.jsx)("th",{className:"py-2 text-right",children:"Admin Fee"}),(0,r.jsx)("th",{className:"py-2 text-right",children:"Total"})]})}),(0,r.jsx)("tbody",{children:m.length>0?m.map((e,t)=>(0,r.jsxs)("tr",{className:"border-b border-gray-700",children:[(0,r.jsx)("td",{className:"py-2 text-left",children:I(e.date)}),(0,r.jsxs)("td",{className:"py-2 text-right text-green-400",children:["$",e.amount.toLocaleString()]}),(0,r.jsxs)("td",{className:"py-2 text-right text-red-400",children:["$",e.adminFee.toLocaleString()]}),(0,r.jsxs)("td",{className:"py-2 text-right",children:["$",(e.amount+e.adminFee).toLocaleString()]})]},t)):(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:4,className:"py-4 text-center text-gray-400",children:"No payment history yet."})})})]})}),m.length>0&&(0,r.jsxs)("div",{className:"mt-4 p-3 bg-gray-800 rounded",children:[(0,r.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,r.jsx)("span",{className:"font-medium",children:"Total Payments:"}),(0,r.jsxs)("span",{children:["$",m.reduce((e,t)=>e+t.amount,0).toLocaleString()]})]}),(0,r.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,r.jsx)("span",{className:"font-medium",children:"Total Fees Paid:"}),(0,r.jsxs)("span",{children:["$",m.reduce((e,t)=>e+t.adminFee,0).toLocaleString()]})]})]})]}),"protection"===O&&(0,r.jsxs)("div",{className:"bg-gray-700 p-4 rounded",children:[(0,r.jsx)("h3",{className:"text-lg font-medium mb-4",children:"Interest Rate Protection"}),(0,r.jsxs)("div",{className:"mb-4 p-4 bg-gray-800 rounded",children:[(0,r.jsx)("p",{className:"mb-3",children:"Protect yourself from interest rate fluctuations by purchasing an interest rate cap. This ensures your loan interest rate will never exceed the selected cap rate, regardless of market conditions."}),N&&N.active?(0,r.jsxs)("div",{className:"bg-green-900/30 p-3 rounded mb-4",children:[(0,r.jsx)("h4",{className:"font-medium mb-1",children:"Your Current Protection Plan"}),(0,r.jsxs)("div",{className:"flex justify-between mb-1",children:[(0,r.jsx)("span",{children:"Interest Rate Cap:"}),(0,r.jsxs)("span",{className:"text-green-400",children:[(100*N.capRate).toFixed(2),"%"]})]}),(0,r.jsxs)("div",{className:"flex justify-between mb-3",children:[(0,r.jsx)("span",{children:"Monthly Cost:"}),(0,r.jsxs)("span",{children:["$",N.monthlyCost.toLocaleString()]})]}),(0,r.jsx)("button",{className:"w-full py-2 bg-red-600 hover:bg-red-700 text-white rounded",onClick:v,children:"Cancel Protection Plan"})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("h4",{className:"font-medium mb-2",children:"Available Protection Plans"}),s>0?(0,r.jsx)("div",{className:"space-y-3",children:[{cap:l+.01,cost:Math.round(5e-4*s)},{cap:l+.02,cost:Math.round(3e-4*s)},{cap:l+.03,cost:Math.round(2e-4*s)}].map((e,s)=>(0,r.jsxs)("div",{className:"bg-gray-700 p-3 rounded border border-gray-600",children:[(0,r.jsxs)("div",{className:"flex justify-between mb-1",children:[(0,r.jsx)("span",{children:"Interest Rate Cap:"}),(0,r.jsxs)("span",{children:[(100*e.cap).toFixed(2),"%"]})]}),(0,r.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,r.jsx)("span",{children:"Monthly Cost:"}),(0,r.jsxs)("span",{children:["$",e.cost.toLocaleString()]})]}),(0,r.jsx)("button",{className:"w-full py-2 bg-blue-600 hover:bg-blue-700 text-white rounded",onClick:()=>null==f?void 0:f(e.cap),disabled:t<e.cost,children:"Purchase Protection"})]},s))}):(0,r.jsx)("p",{className:"text-gray-400 italic",children:"You need an active loan to purchase interest rate protection."})]}),(0,r.jsxs)("div",{className:"bg-blue-900/20 p-3 rounded",children:[(0,r.jsx)("h4",{className:"font-medium mb-1",children:"How It Works"}),(0,r.jsx)("p",{className:"text-sm text-gray-300",children:"Rate protection plans provide a ceiling on your interest rate regardless of market fluctuations. The monthly cost depends on your current debt and how close you set the cap to the current rate. A cap closer to the current rate is more expensive but provides better protection."})]})]})]})]})]})};function X(e,t,s,a){let r=Math.min(100,50+e/20),n=100;return s>0&&(n=Math.max(0,100*(1-t/s/a))),Math.round(Math.min(100,(r+n)/2))}let Z=e=>{let{properties:t,monthlyRentalIncome:s,monthlyExpenses:a,recentCapitalGains:l=[],fiscalYear:i,totalTaxesPaidYTD:c}=e,[o,d]=(0,n.useState)(null),m=_(t),h=B(s,a),x=12*m,u=12*h,p=l.reduce((e,t)=>e+t.taxPaid,0),g=e=>"$".concat(e.toLocaleString());return(0,r.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Tax Management"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[(0,r.jsxs)("div",{className:"bg-gray-700 p-4 rounded",children:[(0,r.jsxs)("h3",{className:"text-lg font-medium mb-3",children:["Tax Summary (",i,")"]}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,r.jsx)("span",{className:"text-gray-300",children:"Property Tax (Monthly)"}),(0,r.jsx)("span",{children:g(m)})]}),(0,r.jsx)("div",{className:"w-full bg-gray-600 h-2 rounded-full",children:(0,r.jsx)("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:"".concat(Math.min(100,m/(m+h)*100),"%")}})})]}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,r.jsx)("span",{className:"text-gray-300",children:"Rental Income Tax (Monthly)"}),(0,r.jsx)("span",{children:g(h)})]}),(0,r.jsx)("div",{className:"w-full bg-gray-600 h-2 rounded-full",children:(0,r.jsx)("div",{className:"bg-green-500 h-2 rounded-full",style:{width:"".concat(Math.min(100,h/(m+h)*100),"%")}})})]}),(0,r.jsxs)("div",{className:"border-t border-gray-600 pt-3 mt-3",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{children:"Estimated Annual Tax Burden:"}),(0,r.jsx)("span",{className:"font-semibold text-red-400",children:g(x+u+p)})]}),(0,r.jsxs)("div",{className:"flex justify-between mt-1",children:[(0,r.jsx)("span",{children:"Taxes Paid Year-to-Date:"}),(0,r.jsx)("span",{className:"font-semibold",children:g(c)})]})]})]}),(0,r.jsxs)("div",{className:"bg-gray-700 p-4 rounded",children:[(0,r.jsx)("h3",{className:"text-lg font-medium mb-3",children:"Property Tax Breakdown"}),(0,r.jsx)("div",{className:"max-h-[200px] overflow-y-auto mb-3",children:(0,r.jsxs)("table",{className:"w-full text-sm",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"text-left border-b border-gray-600",children:[(0,r.jsx)("th",{className:"pb-2",children:"Property"}),(0,r.jsx)("th",{className:"pb-2",children:"Value"}),(0,r.jsx)("th",{className:"pb-2",children:"Monthly Tax"})]})}),(0,r.jsxs)("tbody",{children:[t.filter(e=>"Player"===e.owner).map(e=>(0,r.jsxs)("tr",{className:"border-b border-gray-700",children:[(0,r.jsx)("td",{className:"py-2",children:e.address.split(", ")[0]}),(0,r.jsx)("td",{children:g(e.value)}),(0,r.jsx)("td",{className:"text-red-300",children:g(Math.round(e.value*D[e.location]/12))})]},e.id)),0===t.filter(e=>"Player"===e.owner).length&&(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:3,className:"py-3 text-center text-gray-400",children:"No properties owned"})})]})]})})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[(0,r.jsxs)("div",{className:"bg-gray-700 p-4 rounded",children:[(0,r.jsx)("h3",{className:"text-lg font-medium mb-3",children:"Property Tax Rates"}),(0,r.jsx)("table",{className:"w-full text-sm",children:(0,r.jsx)("tbody",{children:Object.entries(D).map(e=>{let[t,s]=e;return(0,r.jsxs)("tr",{className:"border-b border-gray-600",children:[(0,r.jsx)("td",{className:"py-1",children:t}),(0,r.jsxs)("td",{className:"text-right",children:[(100*s).toFixed(1),"%"]})]},t)})})})]}),(0,r.jsxs)("div",{className:"bg-gray-700 p-4 rounded",children:[(0,r.jsx)("h3",{className:"text-lg font-medium mb-3",children:"Income Tax Brackets"}),(0,r.jsxs)("table",{className:"w-full text-sm",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"text-left border-b border-gray-600",children:[(0,r.jsx)("th",{className:"pb-1",children:"Income"}),(0,r.jsx)("th",{className:"pb-1 text-right",children:"Rate"})]})}),(0,r.jsx)("tbody",{children:U.map((e,t)=>{let s=U[t+1],a=s?"$".concat(e.threshold.toLocaleString()," - $").concat((s.threshold-1).toLocaleString()):"$".concat(e.threshold.toLocaleString(),"+");return(0,r.jsxs)("tr",{className:"border-b border-gray-600",children:[(0,r.jsx)("td",{className:"py-1",children:a}),(0,r.jsxs)("td",{className:"text-right",children:[(100*e.rate).toFixed(1),"%"]})]},t)})})]})]}),(0,r.jsxs)("div",{className:"bg-gray-700 p-4 rounded",children:[(0,r.jsx)("h3",{className:"text-lg font-medium mb-3",children:"Capital Gains Rates"}),(0,r.jsx)("table",{className:"w-full text-sm",children:(0,r.jsxs)("tbody",{children:[(0,r.jsxs)("tr",{className:"border-b border-gray-600",children:[(0,r.jsxs)("td",{className:"py-1",children:["Short-term (","<"," 1 year)"]}),(0,r.jsxs)("td",{className:"text-right",children:[(100*F.SHORT_TERM).toFixed(1),"%"]})]}),(0,r.jsxs)("tr",{children:[(0,r.jsxs)("td",{className:"py-1",children:["Long-term (",""," 1 year)"]}),(0,r.jsxs)("td",{className:"text-right",children:[(100*F.LONG_TERM).toFixed(1),"%"]})]})]})})]})]}),(0,r.jsxs)("div",{className:"bg-gray-700 p-4 rounded mb-6",children:[(0,r.jsx)("h3",{className:"text-lg font-medium mb-3",children:"Recent Capital Gains"}),l.length>0?(0,r.jsxs)("table",{className:"w-full text-sm",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"text-left border-b border-gray-600",children:[(0,r.jsx)("th",{className:"pb-2",children:"Property"}),(0,r.jsx)("th",{className:"pb-2",children:"Purchase Price"}),(0,r.jsx)("th",{className:"pb-2",children:"Sale Price"}),(0,r.jsx)("th",{className:"pb-2",children:"Profit"}),(0,r.jsx)("th",{className:"pb-2",children:"Holding Period"}),(0,r.jsx)("th",{className:"pb-2",children:"Tax Paid"})]})}),(0,r.jsx)("tbody",{children:l.map((e,t)=>(0,r.jsxs)("tr",{className:"border-b border-gray-600",children:[(0,r.jsx)("td",{className:"py-2",children:e.property}),(0,r.jsx)("td",{children:g(e.purchasePrice)}),(0,r.jsx)("td",{children:g(e.salePrice)}),(0,r.jsx)("td",{className:e.salePrice>e.purchasePrice?"text-green-400":"text-red-400",children:g(e.salePrice-e.purchasePrice)}),(0,r.jsxs)("td",{children:[e.holdingPeriodMonths," months"]}),(0,r.jsx)("td",{className:"text-red-300",children:g(e.taxPaid)})]},t))})]}):(0,r.jsx)("p",{className:"text-gray-400 py-2 text-center",children:"No capital gains transactions this year"})]}),(0,r.jsxs)("div",{className:"bg-gray-700 p-4 rounded",children:[(0,r.jsx)("h3",{className:"text-lg font-medium mb-4",children:"Tax Planning"}),(0,r.jsx)("div",{className:"mb-4",children:(0,r.jsx)("p",{className:"text-sm text-gray-300 mb-2",children:"Use the tools below to simulate different tax scenarios and plan your investment strategy."})}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-medium mb-2",children:"Capital Gains Tax Simulator"}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2",children:[(0,r.jsxs)("select",{className:"bg-gray-800 border border-gray-600 rounded px-2 py-1",value:o||"",onChange:e=>d(e.target.value?parseInt(e.target.value):null),children:[(0,r.jsx)("option",{value:"",children:"Select a property to simulate sale"}),t.filter(e=>"Player"===e.owner).map(e=>(0,r.jsxs)("option",{value:e.id,children:[e.address.split(", ")[0]," (Value: $",e.value.toLocaleString(),")"]},e.id))]}),(0,r.jsx)("button",{className:"bg-blue-600 hover:bg-blue-700 px-4 py-1 rounded text-sm",children:"Calculate Tax Impact"})]}),o&&(0,r.jsx)("div",{className:"mt-3 p-3 bg-gray-800 rounded",children:(0,r.jsx)("p",{className:"text-sm text-gray-300",children:"Simulation results will appear here..."})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-medium mb-2",children:"Tax Deduction Strategies"}),(0,r.jsxs)("ul",{className:"list-disc pl-5 text-sm text-gray-300",children:[(0,r.jsx)("li",{children:"Consider renovating properties to increase depreciation deductions"}),(0,r.jsx)("li",{children:"Hold properties longer than 12 months to qualify for lower long-term capital gains rates"}),(0,r.jsx)("li",{children:"Time your property sales strategically to spread capital gains across tax years"})]})]})]})]})]})},ee={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)},et=new Uint8Array(16),es=[];for(let e=0;e<256;++e)es.push((e+256).toString(16).slice(1));let ea=function(e,t,s){if(ee.randomUUID&&!t&&!e)return ee.randomUUID();let r=(e=e||{}).random??e.rng?.()??function(){if(!a){if("undefined"==typeof crypto||!crypto.getRandomValues)throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");a=crypto.getRandomValues.bind(crypto)}return a(et)}();if(r.length<16)throw Error("Random bytes length must be >= 16");if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){if((s=s||0)<0||s+16>t.length)throw RangeError(`UUID byte range ${s}:${s+15} is out of buffer bounds`);for(let e=0;e<16;++e)t[s+e]=r[e];return t}return function(e,t=0){return(es[e[t+0]]+es[e[t+1]]+es[e[t+2]]+es[e[t+3]]+"-"+es[e[t+4]]+es[e[t+5]]+"-"+es[e[t+6]]+es[e[t+7]]+"-"+es[e[t+8]]+es[e[t+9]]+"-"+es[e[t+10]]+es[e[t+11]]+es[e[t+12]]+es[e[t+13]]+es[e[t+14]]+es[e[t+15]]).toLowerCase()}(r)},er=()=>{let e=["James","Robert","John","Michael","David","William","Richard","Joseph","Thomas","Charles","Mary","Patricia","Jennifer","Linda","Elizabeth","Barbara","Susan","Jessica","Sarah","Karen"],t=["Smith","Johnson","Williams","Brown","Jones","Miller","Davis","Garcia","Rodriguez","Wilson","Martinez","Anderson","Taylor","Thomas","Hernandez","Moore","Martin","Jackson","Thompson","White"],s=e[Math.floor(Math.random()*e.length)],a=t[Math.floor(Math.random()*t.length)];return"".concat(s," ").concat(a)},en=(e,t)=>{let s={RENT_PAID:e.paymentProbability,RENT_LATE:.1,RENT_MISSED:.05,DAMAGE:.03,LEASE_BREAK:.02,COMPLAINT:.04};if("RENT_PAID"===t)return s.RENT_PAID;if("DAMAGE"===t){let t=s.DAMAGE;return e.pets&&(t*=1.5),e.familySize>2&&(t*=1.2),e.propertyCareProbability<.7&&(t*=1.5),Math.min(.2,t)}if("LEASE_BREAK"===t){let t=s.LEASE_BREAK;return e.rentalHistory.timesMovedLastFiveYears>3&&(t*=1.5),Math.min(.15,t)}return s[t]||0},el=e=>{let t,s;let a=Object.values(h),r=a[Math.floor(Math.random()*a.length)],n=Math.round(({[h.DOCTOR]:8,[h.LAWYER]:7,[h.BUSINESS_OWNER]:6,[h.ENGINEER]:5,[h.MANAGER]:4.5,[h.TEACHER]:3,[h.OFFICE_WORKER]:3,[h.RETAIL_WORKER]:2,[h.SERVICE_WORKER]:2,[h.FREELANCER]:3,[h.STUDENT]:1.5,[h.RETIRED]:2,[h.UNEMPLOYED]:1}[r]||3)*(.8+.4*Math.random())*(2*e)),l=650;r===h.DOCTOR||r===h.LAWYER?l+=100:r===h.BUSINESS_OWNER||r===h.ENGINEER?l+=70:r===h.UNEMPLOYED?l-=100:r===h.STUDENT&&(l-=50);let i=Math.min(850,Math.max(350,l+Math.floor(100*Math.random())-50)),c=Math.floor(5*Math.random())+1,o=Math.random()>.7,d=Math.random()>.8;t=i>750?Math.random()>.2?"Excellent":"Good":i>650?Math.random()>.5?"Good":"Average":i>550?Math.random()>.5?"Average":"Poor":Math.random()>.5?"Poor":"None";let m=Math.min(.98,.5+i/1e3+n/(10*e)),x=Math.min(.95,.6+i/1e3*.5),u=ea(),p=[6,12,18,24][Math.floor(4*Math.random())],g=Math.random();return s=g<.2?Math.ceil(p*(.5+.3*Math.random())):g<.7?p:p+Math.floor(12*Math.random()),{id:u,name:er(),occupation:r,monthlyIncome:n,creditScore:i,familySize:c,pets:o,smoker:d,rentalHistory:{evictions:Math.random()>.9?Math.floor(2*Math.random())+1:0,previousLandlordReviews:Math.random()>.7?Math.random()>.5?"Excellent":"Good":Math.random()>.5?"Average":"Poor",yearsOfRentalHistory:Math.floor(10*Math.random())+1,timesMovedLastFiveYears:Math.floor(4*Math.random())+1},leaseLength:p,plannedStayDuration:s,hasNotifiedDeparture:!1,rentAmount:e,isPaying:!0,paymentProbability:m,propertyCareProbability:x,references:t}},ei=function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(console.log("Generating ".concat(t," lease applications for rent price $").concat(e)),!e||e<=0)return console.error("Invalid rent price provided to generateLeaseApplications:",e),[];let a=[],r=e=>{let t=Math.max(0,Math.min(1,e+s));return t>.8?Math.round(700+150*Math.random()):t>.5?Math.round(650+100*Math.random()):t>.2?Math.round(550+150*Math.random()):Math.round(500+100*Math.random())};for(let s=0;s<t;s++){let t=el(e);t.creditScore=r(Math.random());let s=[6,12,12,18,24][Math.floor(5*Math.random())];a.push({tenant:t,desiredLeaseLength:s,applicationDate:new Date,applicationFee:50})}return console.log("Generated ".concat(a.length," applications successfully")),a},ec=[{id:"economic-boom",title:"Economic Boom",description:"The economy is thriving with low unemployment and high consumer confidence.",detailedDescription:"A period of robust economic growth has created favorable market conditions for real estate. Property values are increasing rapidly, and banks are more willing to lend money at competitive rates. Tenant quality is also improved as more people have stable incomes.",severity:x.MAJOR,category:u.ECONOMIC,duration:24,probability:.01,impacts:[{type:p.INTEREST_RATE,value:-.01},{type:p.LOAN_APPROVAL,value:.2},{type:p.MAX_LOAN_AMOUNT,value:.15},{type:p.TENANT_QUALITY,value:.1},{type:p.PROPERTY_VALUE,value:.03}],imageUrl:"/images/events/economic-boom.jpg"},{id:"recession",title:"Economic Recession",description:"The economy has fallen into a recession with rising unemployment and decreasing consumer spending.",detailedDescription:"Economic indicators are showing a significant downturn. Banks have tightened lending practices, property values are stagnating or decreasing, and finding quality tenants has become more challenging as unemployment rises.",severity:x.MAJOR,category:u.ECONOMIC,duration:18,probability:.008,impacts:[{type:p.INTEREST_RATE,value:.015},{type:p.LOAN_APPROVAL,value:-.25},{type:p.MAX_LOAN_AMOUNT,value:-.2},{type:p.TENANT_QUALITY,value:-.15},{type:p.PROPERTY_VALUE,value:-.01}],relatedEvents:["foreclosure-wave","tenant-payment-issues"],imageUrl:"/images/events/recession.jpg"},{id:"natural-disaster",title:"Natural Disaster",description:"A significant natural disaster has affected the region.",detailedDescription:"A natural disaster has hit the area, causing widespread property damage and disruption. Insurance costs are rising, and some areas may see decreased property values due to perceived risk. However, there may be opportunities in renovation and rebuilding.",severity:x.MAJOR,category:u.ENVIRONMENTAL,duration:6,probability:.005,impacts:[{type:p.PROPERTY_VALUE,value:-.1},{type:p.MAINTENANCE_COST,value:.25},{type:p.RENOVATION_COST,value:.2}],choices:[{id:"invest-recovery",description:"Invest in disaster recovery efforts ($50,000)",impacts:[{type:p.PROPERTY_VALUE,value:.05}],requiredMoney:5e4},{id:"minimal-response",description:"Provide only minimal necessary repairs",impacts:[{type:p.TENANT_QUALITY,value:-.1}]}],imageUrl:"/images/events/natural-disaster.jpg"},{id:"local-business-growth",title:"Local Business Growth",description:"New businesses are opening in certain areas, increasing desirability.",detailedDescription:"Several new businesses have opened in specific neighborhoods, creating jobs and improving the local economy. Properties in these areas may see increased values and tenant demand.",severity:x.MINOR,category:u.ECONOMIC,duration:12,probability:.03,impacts:[{type:p.PROPERTY_VALUE,value:.02,affectedAreas:[i.DOWNTOWN,i.URBAN]},{type:p.TENANT_QUALITY,value:.05,affectedAreas:[i.DOWNTOWN,i.URBAN]}],imageUrl:"/images/events/local-business.jpg"},{id:"infrastructure-improvement",title:"Infrastructure Improvement",description:"The city is investing in infrastructure upgrades in certain areas.",detailedDescription:"The local government is implementing infrastructure improvements including transportation, utilities, and public spaces. Properties in affected areas will likely see increased values.",severity:x.MINOR,category:u.POLITICAL,duration:18,probability:.02,impacts:[{type:p.PROPERTY_VALUE,value:.015,affectedAreas:[i.SUBURBAN]},{type:p.AREA_QUALITY,value:.1,affectedAreas:[i.SUBURBAN]}],imageUrl:"/images/events/infrastructure.jpg"},{id:"tenant-payment-issues",title:"Widespread Tenant Payment Issues",description:"Economic conditions are causing tenants to struggle with rent payments.",detailedDescription:"Due to current economic conditions, tenants across various properties are having difficulty making timely rent payments. This may affect your cash flow and require proactive management.",severity:x.MINOR,category:u.ECONOMIC,duration:3,probability:.015,impacts:[{type:p.TENANT_QUALITY,value:-.2}],imageUrl:"/images/events/tenant-issues.jpg"}],eo=(e,t)=>{let s=[];return ec.forEach(a=>{if(!(e.some(e=>e.id.startsWith(a.id)&&e.isActive)||ed(a.id,e))&&Math.random()<a.probability){let e={...JSON.parse(JSON.stringify(a)),id:"".concat(a.id,"-").concat(ea().slice(0,8)),startDate:new Date(t),endDate:new Date(t.getTime()+2592e6*a.duration),isActive:!0};s.push(e)}}),s},ed=(e,t)=>{let s={"economic-boom":["recession"],recession:["economic-boom"]}[e]||[];return t.some(e=>e.isActive&&s.some(t=>e.id.startsWith(t)))},em=(e,t,s,a)=>{let r=0;return e.forEach(e=>{if(e.isActive&&(e.impacts.forEach(e=>{e.type===t&&(!e.affectedAreas||!s||e.affectedAreas.includes(s))&&(!e.affectedPropertyTypes||!a||e.affectedPropertyTypes.includes(a))&&(r+=e.value)}),e.selectedChoice&&e.choices)){let n=e.choices.find(t=>t.id===e.selectedChoice);n&&n.impacts.forEach(e=>{e.type===t&&(!e.affectedAreas||!s||e.affectedAreas.includes(s))&&(!e.affectedPropertyTypes||!a||e.affectedPropertyTypes.includes(a))&&(r+=e.value)})}}),r},eh=(e,t)=>e.map(e=>e.isActive&&e.endDate&&t>e.endDate?{...e,isActive:!1}:e),ex=(e,t,s,a)=>{let r=e.findIndex(e=>e.id===t);if(-1===r)return{events:e,moneyChange:0,success:!1,message:"Event not found."};let n=e[r];if(!n.choices)return{events:e,moneyChange:0,success:!1,message:"This event has no choices."};let l=n.choices.find(e=>e.id===s);if(!l)return{events:e,moneyChange:0,success:!1,message:"Choice not found."};if(l.requiredMoney&&l.requiredMoney>a)return{events:e,moneyChange:0,success:!1,message:"Not enough money. This choice requires $".concat(l.requiredMoney.toLocaleString(),".")};let i=[...e];return i[r]={...n,selectedChoice:s},{events:i,moneyChange:l.requiredMoney?-l.requiredMoney:0,success:!0,message:"You chose: ".concat(l.description)}},eu=(e,t)=>{let s=[];return e.forEach(a=>{a.isActive&&a.relatedEvents&&0!==a.relatedEvents.length&&a.relatedEvents.forEach(a=>{let r=ec.find(e=>e.id===a);if(r){if(e.some(e=>e.id.startsWith(a)&&e.isActive)||ed(a,e))return;if(.25>Math.random()){let e={...JSON.parse(JSON.stringify(r)),id:"".concat(a,"-").concat(ea().slice(0,8)),startDate:new Date(t),endDate:new Date(t.getTime()+2592e6*r.duration),isActive:!0};s.push(e)}}})}),s},ep=e=>{let{activeEvents:t,onEventClick:s}=e;return t&&0!==t.length?(0,r.jsx)("div",{className:"mb-4",children:(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:t.map(e=>(0,r.jsxs)("button",{onClick:()=>s(e),className:"px-3 py-1 rounded-full text-sm font-medium flex items-center \n              ".concat(e.severity===x.MAJOR?"bg-red-700 hover:bg-red-600 text-white":"bg-yellow-600 hover:bg-yellow-500 text-white"),children:[(0,r.jsx)("span",{className:"mr-1",children:e.severity===x.MAJOR?"\uD83D\uDD34":"\uD83D\uDFE1"}),e.title]},e.id))})}):null},eg=e=>{var t;let{event:s,isOpen:a,onClose:l,onMakeChoice:i,playerMoney:c}=e,[o,d]=(0,n.useState)(!1);(0,n.useEffect)(()=>(a&&(document.body.style.overflow="hidden"),()=>{document.body.style.overflow=""}),[a]);let m=()=>{d(!0),setTimeout(()=>{l(),d(!1)},300)};if(!a)return null;let h=e=>!e.requiredMoney||e.requiredMoney<=c,u=s.endDate?new Date(s.endDate):null,p=u?Math.ceil((u.getTime()-new Date().getTime())/864e5):null,g=e=>{let t=(100*e).toFixed(1);return"".concat(e>=0?"+":"").concat(t,"%")};return(0,r.jsx)("div",{className:"fixed inset-0 flex items-center justify-center z-50 bg-black bg-opacity-75 transition-opacity",onClick:m,children:(0,r.jsxs)("div",{className:"bg-gray-800 w-full max-w-2xl rounded-lg shadow-xl overflow-hidden \n          ".concat(o?"animate-fade-out":"animate-fade-in"),onClick:e=>e.stopPropagation(),children:[(0,r.jsx)("div",{className:"p-6 border-b border-gray-700 ".concat(s.severity===x.MAJOR?"bg-red-900/30":"bg-yellow-900/30"),children:(0,r.jsxs)("div",{className:"flex justify-between items-start",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("span",{className:"mr-2 text-2xl ".concat(s.severity===x.MAJOR?"\uD83D\uDD34":"\uD83D\uDFE1"),children:s.severity===x.MAJOR?"\uD83D\uDD34":"\uD83D\uDFE1"}),(0,r.jsx)("h2",{className:"text-xl font-bold",children:s.title})]}),(0,r.jsxs)("p",{className:"text-sm text-gray-300 mt-1",children:[s.category," Event"]})]}),(0,r.jsx)("button",{onClick:m,className:"text-gray-400 hover:text-white text-xl",children:"\xd7"})]})}),(0,r.jsxs)("div",{className:"p-6 max-h-[70vh] overflow-y-auto",children:[(0,r.jsx)("div",{className:"mb-4",children:(0,r.jsx)("p",{className:"text-gray-200",children:s.detailedDescription||s.description})}),null!==p&&(0,r.jsxs)("div",{className:"mb-4 p-3 bg-gray-700 rounded",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("span",{children:"Time remaining:"}),(0,r.jsxs)("span",{className:"font-medium",children:[p," days"]})]}),(0,r.jsx)("div",{className:"mt-2",children:(0,r.jsx)("div",{className:"w-full bg-gray-600 rounded-full h-2",children:(0,r.jsx)("div",{className:"h-2 rounded-full ".concat(s.severity===x.MAJOR?"bg-red-600":"bg-yellow-600"),style:{width:"".concat(Math.max(0,Math.min(100,p/(30*s.duration)*100)),"%")}})})})]}),s.impacts&&s.impacts.length>0&&(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h3",{className:"text-lg font-medium mb-2",children:"Impacts"}),(0,r.jsx)("div",{className:"bg-gray-700 rounded p-3",children:(0,r.jsx)("ul",{className:"space-y-1",children:s.impacts.map((e,t)=>(0,r.jsxs)("li",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-gray-300",children:e.type}),(0,r.jsx)("span",{className:e.value>=0?"text-green-400":"text-red-400",children:g(e.value)})]},t))})})]}),s.choices&&s.choices.length>0&&!s.selectedChoice&&(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("h3",{className:"text-lg font-medium mb-2",children:"Your Options"}),(0,r.jsx)("div",{className:"space-y-3",children:s.choices.map(e=>(0,r.jsxs)("div",{className:"bg-gray-700 rounded p-4",children:[(0,r.jsx)("p",{className:"mb-3",children:e.description}),e.impacts&&e.impacts.length>0&&(0,r.jsxs)("div",{className:"mb-3 text-sm",children:[(0,r.jsx)("p",{className:"text-gray-400 mb-1",children:"Effects:"}),(0,r.jsx)("ul",{className:"space-y-1 pl-4",children:e.impacts.map((e,t)=>(0,r.jsxs)("li",{className:"flex justify-between",children:[(0,r.jsx)("span",{children:e.type}),(0,r.jsx)("span",{className:e.value>=0?"text-green-400":"text-red-400",children:g(e.value)})]},t))})]}),(0,r.jsxs)("button",{className:"w-full py-2 rounded ".concat(h(e)?"bg-blue-600 hover:bg-blue-700 text-white":"bg-gray-600 cursor-not-allowed text-gray-300"),onClick:()=>h(e)&&i(s.id,e.id),disabled:!h(e),children:[e.requiredMoney?"Choose ($".concat(e.requiredMoney.toLocaleString(),")"):"Choose",!h(e)&&" - Cannot Afford"]})]},e.id))})]}),s.selectedChoice&&s.choices&&(0,r.jsxs)("div",{className:"mb-4 p-4 bg-blue-900/30 rounded",children:[(0,r.jsx)("h3",{className:"text-lg font-medium mb-2",children:"Your Decision"}),(0,r.jsx)("p",{children:(null===(t=s.choices.find(e=>e.id===s.selectedChoice))||void 0===t?void 0:t.description)||"You've made a choice for this event."})]})]}),(0,r.jsx)("div",{className:"p-4 border-t border-gray-700 bg-gray-800 flex justify-end",children:(0,r.jsx)("button",{className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded text-white",onClick:m,children:"Close"})})]})})};var ey=function(e){return e[e.SLOW=1e3]="SLOW",e[e.NORMAL=500]="NORMAL",e[e.FAST=100]="FAST",e}(ey||{});let eb=(e=>{let t=[];for(let s=0;s<e;s++){let e=L(s,t);t.push(e)}return t})(20),ej=()=>{let[e,t]=(0,n.useState)(eb),[s,a]=(0,n.useState)(new Date),[l,i]=(0,n.useState)(25e4),[o,d]=(0,n.useState)(0),[m,h]=(0,n.useState)(0),[u,g]=(0,n.useState)(5e3),[y,b]=(0,n.useState)(!1),[j,N]=(0,n.useState)(null),[f,v]=(0,n.useState)("listings"),[w,M]=(0,n.useState)(600),[A,E]=(0,n.useState)(1e6),[O,T]=(0,n.useState)(.7),[R,S]=(0,n.useState)([]),[C,P]=(0,n.useState)(0),[L,D]=(0,n.useState)(0),[U,F]=(0,n.useState)(.05),[H,G]=(0,n.useState)([{date:new Date,rate:.05}]),[$,z]=(0,n.useState)(()=>{let e=new Date;return e.setMonth(e.getMonth()+3),e}),[J,ee]=(0,n.useState)({propertyTax:0,incomeTax:0}),[et,es]=(0,n.useState)(0),[ea,er]=(0,n.useState)([]),[el,ec]=(0,n.useState)(null),[ed,ey]=(0,n.useState)(!1),[ej,eN]=(0,n.useState)(new Set),[ef,ev]=(0,n.useState)({hired:!1,fee:500,efficiency:.85}),[ew,eM]=(0,n.useState)([]),[eA,eE]=(0,n.useState)([]),[eO,eT]=(0,n.useState)(null),[eR,eS]=(0,n.useState)(!1),[eC,eP]=(0,n.useState)({active:!1,capRate:0,monthlyCost:0}),eL=e.reduce((e,t)=>e+("Player"===t.owner?t.value:0),0),eI=eL>0?o/eL:0,ek=(0,n.useCallback)(e=>e<=0?0:25+.005*e,[]),eD=e=>{eN(t=>{let s=new Set(t);return s.has(e)?s.delete(e):s.add(e),s})},eU=(0,n.useCallback)(e=>{eT(e),eS(!0)},[]),eF=(0,n.useCallback)((e,t)=>{let s=ex(ew,e,t,l);s.success&&(eM(s.events),i(e=>e+s.moneyChange)),N(s.message),setTimeout(()=>N(null),5e3)},[ew,l]),eH=(0,n.useCallback)(e=>{let t=e-U,s=0;if(l<(s=t<=.01?Math.round(5e-4*o):t<=.02?Math.round(3e-4*o):Math.round(2e-4*o))){N("You don't have enough money for the first payment"),setTimeout(()=>N(null),5e3);return}eP({active:!0,capRate:e,monthlyCost:s}),i(e=>e-s),N("Interest rate protection purchased! Your rate will not exceed ".concat((100*e).toFixed(2),"%")),setTimeout(()=>N(null),5e3)},[U,o,l]),e_=(0,n.useCallback)(()=>{eP({active:!1,capRate:0,monthlyCost:0}),N("Interest rate protection plan canceled."),setTimeout(()=>N(null),5e3)},[]);(0,n.useEffect)(()=>{eE(ew.filter(e=>e.isActive))},[ew]),(0,n.useEffect)(()=>{if(y)return;let e=setInterval(()=>{eM(e=>{let t=eh(e,s),a=eo(t,s),r=eu([...t,...a],s);if(a.length>0||r.length>0){let e=a.length+r.length,t=[...a,...r].filter(e=>e.severity===x.MAJOR);t.length>0?N("Warning: ".concat(t.length," major event").concat(t.length>1?"s":""," have occurred!")):N("".concat(e," new event").concat(e>1?"s":""," have occurred.")),setTimeout(()=>N(null),5e3)}return[...t,...a,...r]})},10*u);return()=>{clearInterval(e)}},[y,s,u]);let eB=(0,n.useCallback)(()=>{let a=e.filter(e=>"Player"===e.owner&&e.isRented&&e.currentTenant);if(0===a.length)return;let r=a[Math.floor(Math.random()*a.length)],n=r.currentTenant;if("DAMAGE"==(.7>Math.random()?"DAMAGE":"COMPLAINT")&&Math.random()<en(n,"DAMAGE")){let e=Math.round(r.value*(.001+.005*Math.random())),a={type:"DAMAGE",date:new Date(s),description:"Repairs needed: $".concat(e),financialImpact:0};t(e=>e.map(e=>e.id===r.id?{...e,tenantEvents:[...e.tenantEvents,a]}:e)),ej.has(r.id)||ef.hired||(i(t=>t-e),N("Repairs needed at ".concat(r.address,". Cost: $").concat(e)),setTimeout(()=>N(null),5e3))}},[e,s,ej,ef]);function eW(s){let a=e.findIndex(e=>e.id===s);if(-1!==a){let s=e[a];if(s.type===c.LAND){N("Land properties cannot be rented. Consider developing it in the future."),setTimeout(()=>N(null),5e3);return}if(s.isRented){let r=[...e];r[a]={...s,isRented:!1,rentee:null,currentTenant:void 0},t(r);return}let r=em(ew.filter(e=>e.isActive),p.TENANT_QUALITY,s.location,s.type),n=Math.max(1,Math.round((3+Math.floor(3*Math.random()))*(1+r))),l=ei(s.rentPrice,n,r),i=[...e];i[a]={...s,leaseApplications:l},t(i),ec(i[a]),ey(!0)}else console.error("Property with ID ".concat(s," not found"))}function eY(a){let r=e.findIndex(e=>e.id===a);if(-1===r)return;let n=e[r];if("Player"===n.owner){let a=n.value,l=n.purchaseDate||new Date,c=Math.round((s.getTime()-l.getTime())/2592e6),o=W(n.marketPrice,a,c),d=a-o;er(e=>[{property:n.address,purchasePrice:n.marketPrice,salePrice:a,holdingPeriodMonths:c,taxPaid:o},...e.slice(0,9)]);let m=[...e];m[r]={...n,owner:null,isRented:!1,rentee:null,currentTenant:void 0,purchaseDate:void 0},t(m),i(e=>e+d),N("Sold ".concat(n.address," for $").concat(a.toLocaleString())),setTimeout(()=>N(null),5e3)}else{if(l<n.marketPrice){N("You don't have enough money to buy this property."),setTimeout(()=>N(null),5e3);return}i(e=>e-n.marketPrice);let a=[...e];a[r]={...n,owner:"Player",purchaseDate:new Date(s)},t(a),N("Purchased ".concat(n.address," for $").concat(n.marketPrice.toLocaleString())),setTimeout(()=>N(null),5e3)}}function eG(s){let a=e.findIndex(e=>e.id===s);if(-1===a)return;let r=e[a],n=Math.round(.05*r.value);if(l<n){N("You need $".concat(n.toLocaleString()," to renovate this property.")),setTimeout(()=>N(null),5e3);return}let c=Math.round(n*(1+em(ew.filter(e=>e.isActive),p.RENOVATION_COST)));i(e=>e-c);let o=[...e];o[a]={...r,value:Math.round(1.1*r.value),renovationBonusPercentage:Math.min(100,r.renovationBonusPercentage+20)},t(o),N("Renovated ".concat(r.address," for $").concat(c.toLocaleString())),setTimeout(()=>N(null),5e3)}function eV(a){let r=e.findIndex(e=>e.id===a);if(-1===r)return;let n=e[r];if(!n.isRented||!n.currentTenant){N("This property doesn't have a tenant to evict."),setTimeout(()=>N(null),5e3);return}if(l<1e3){N("You need $".concat(1e3.toLocaleString()," to cover legal fees for eviction.")),setTimeout(()=>N(null),5e3);return}i(e=>e-1e3);let c={type:"LEASE_BREAK",date:new Date(s),description:"Tenant was evicted",financialImpact:0},o=[...e];o[r]={...n,isRented:!1,rentee:null,currentTenant:void 0,tenantHistory:[...n.tenantHistory,n.currentTenant],tenantEvents:[...n.tenantEvents,c]},t(o),N("Evicted tenant from ".concat(n.address)),setTimeout(()=>N(null),5e3)}function e$(a,r){let n=e.findIndex(e=>e.id===a.id);if(-1===n)return;let l=[...e];l[n]={...a,isRented:!0,rentee:r.tenant.name,currentTenant:r.tenant,leaseStart:new Date(s),leaseLength:r.desiredLeaseLength},t(l),ey(!1),ec(null),ej.has(a.id)||i(e=>e+r.applicationFee),N("Accepted tenant ".concat(r.tenant.name," for ").concat(a.address)),setTimeout(()=>N(null),5e3)}return(0,n.useEffect)(()=>{if(y)return;let r=setInterval(()=>{let r=new Date(s);if(r.setDate(r.getDate()+1),a(r),1===r.getDate()){let s=0,a=0;t(e.map(e=>{if("Player"!==e.owner)return e;let t=_([e])/12;if(a+=t,e.isRented&&e.currentTenant){let t=em(ew.filter(e=>e.isActive),p.TENANT_QUALITY);if(Math.random()<e.currentTenant.paymentProbability+t){s+=e.rentPrice;let t={type:"RENT_PAID",date:new Date(r),description:"Rent paid on time",financialImpact:e.rentPrice};return{...e,tenantEvents:[...e.tenantEvents,t]}}{let t={type:"RENT_MISSED",date:new Date(r),description:"Rent payment missed",financialImpact:-e.rentPrice};return{...e,tenantEvents:[...e.tenantEvents,t]}}}return e}));let n=B(s,J.propertyTax);i(e=>e+s-a-n),ee({propertyTax:a,incomeTax:n}),es(e=>e+a+n),ef.hired&&i(e=>e-ef.fee)}.1>Math.random()&&eB()},u);return()=>{clearInterval(r)}},[y,s,ew,e,u,ef,J.propertyTax,eB]),(0,n.useEffect)(()=>{if(y)return;let e=setInterval(()=>{if(o>0&&m>0){let e=ek(m),t=m+e;l>=t?(d(Math.max(o-m,0)),i(e=>e-t),S(t=>[{date:new Date(s),amount:m,adminFee:e},...t]),P(e=>e+1),D(0),C%3==0&&(M(e=>Math.min(850,e+5)),E(e=>Math.min(5e6,1.05*e)),T(e=>Math.min(.9,e+.01)))):(P(0),D(e=>e+1),M(e=>Math.max(300,e-15)),L>=3&&(E(e=>Math.max(5e5,.9*e)),T(e=>Math.max(.5,e-.02))),N("You missed a loan payment! Your credit score has decreased."),setTimeout(()=>N(null),5e3))}if(s>=$){let e=Math.max(.02,Math.min(.12,U+(Math.random()-.5)*.01+em(ew.filter(e=>e.isActive),p.INTEREST_RATE)));eC.active&&e>eC.capRate&&(e=eC.capRate),F(e),G(t=>[{date:new Date(s),rate:e},...t]);let t=new Date(s);if(t.setMonth(t.getMonth()+3),z(t),o>0){h(e/12*o);let t=e>U?"increased":"decreased";N("Interest rates have ".concat(t," to ").concat((100*e).toFixed(1),"%!")),setTimeout(()=>N(null),5e3)}}},u);return()=>{clearInterval(e)}},[y,u,s,$,U,o,ew,eC,ek,C,L,l,m]),(0,n.useEffect)(()=>{if(y||!eC.active)return;let e=setInterval(()=>{l>=eC.monthlyCost?i(e=>e-eC.monthlyCost):(eP({active:!1,capRate:0,monthlyCost:0}),N("Interest rate protection cancelled due to missed payment."),setTimeout(()=>N(null),5e3))},u);return()=>{clearInterval(e)}},[y,eC,l,u]),(0,n.useEffect)(()=>{if(y)return;let e=setInterval(()=>{let e=new Date(s);e.setDate(e.getDate()+1),a(e)},u);return()=>{clearInterval(e)}},[s,y,u]),(0,r.jsxs)("div",{className:"min-h-screen bg-gray-900 text-white p-4",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold mb-4",children:"Real Estate Simulator"}),(0,r.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4 mb-4 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-6 gap-4",children:[(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)("span",{className:"text-gray-400",children:"Date"}),(0,r.jsx)("span",{className:"text-lg font-semibold",children:new Intl.DateTimeFormat("en-US").format(s)})]}),(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)("span",{className:"text-gray-400",children:"Cash"}),(0,r.jsxs)("span",{className:"text-lg font-semibold text-green-400",children:["$",l.toLocaleString()]})]}),(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)("span",{className:"text-gray-400",children:"Debt"}),(0,r.jsxs)("span",{className:"text-lg font-semibold text-red-400",children:["$",o.toLocaleString()]})]}),(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)("span",{className:"text-gray-400",children:"Current Debt Ratio"}),(0,r.jsxs)("span",{className:"text-lg font-semibold",children:[(100*eI).toFixed(1),"%"]})]}),(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)("span",{className:"text-gray-400",children:"Monthly Payment"}),(0,r.jsxs)("span",{className:"text-lg font-semibold",children:["$",(m+ek(m)).toLocaleString()]})]}),(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)("span",{className:"text-gray-400",children:"Monthly Tax"}),(0,r.jsxs)("span",{className:"text-lg font-semibold text-red-400",children:["$",(J.propertyTax+J.incomeTax).toLocaleString()]})]})]}),(0,r.jsxs)("div",{className:"flex gap-2 my-4 flex-wrap",children:[(0,r.jsx)("button",{className:"bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded ".concat(y?"border-2 border-red-500":""),onClick:()=>{b(e=>!e)},children:y?" Resume":" Pause"}),(0,r.jsx)("button",{className:"bg-blue-700 hover:bg-blue-600 text-white px-4 py-2 rounded",onClick:()=>{b(!1),g(1e3)},children:"1x"}),(0,r.jsx)("button",{className:"bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded",onClick:()=>{b(!1),g(500)},children:"5x"}),(0,r.jsx)("button",{className:"bg-blue-500 hover:bg-blue-400 text-white px-4 py-2 rounded",onClick:()=>{b(!1),g(100)},children:"10x"})]}),(0,r.jsx)("div",{className:"mb-4 border-b border-gray-700",children:(0,r.jsxs)("nav",{className:"flex flex-wrap -mb-px",children:[(0,r.jsxs)("button",{className:"px-4 py-2 font-medium text-sm mr-2 ".concat("listings"===f?"border-b-2 border-blue-500 text-blue-400":"text-gray-400 hover:text-gray-300"),onClick:()=>v("listings"),children:["Market Listings (",e.filter(e=>null===e.owner).length,")"]}),(0,r.jsxs)("button",{className:"px-4 py-2 font-medium text-sm mr-2 ".concat("myProperties"===f?"border-b-2 border-blue-500 text-blue-400":"text-gray-400 hover:text-gray-300"),onClick:()=>v("myProperties"),children:["My Properties (",e.filter(e=>"Player"===e.owner).length,")"]}),(0,r.jsx)("button",{className:"px-4 py-2 font-medium text-sm mr-2 ".concat("bank"===f?"border-b-2 border-blue-500 text-blue-400":"text-gray-400 hover:text-gray-300"),onClick:()=>v("bank"),children:"Banking"}),(0,r.jsx)("button",{className:"px-4 py-2 font-medium text-sm mr-2 ".concat("reports"===f?"border-b-2 border-blue-500 text-blue-400":"text-gray-400 hover:text-gray-300"),onClick:()=>v("reports"),children:"Financial Reports"}),(0,r.jsx)("button",{className:"px-4 py-2 font-medium text-sm mr-2 ".concat("taxes"===f?"border-b-2 border-blue-500 text-blue-400":"text-gray-400 hover:text-gray-300"),onClick:()=>v("taxes"),children:"Taxes"}),(0,r.jsx)("button",{className:"px-4 py-2 font-medium text-sm mr-2 ".concat("settings"===f?"border-b-2 border-blue-500 text-blue-400":"text-gray-400 hover:text-gray-300"),onClick:()=>v("settings"),children:"Settings"}),(0,r.jsx)("button",{className:"px-4 py-2 font-medium text-sm ".concat("tips"===f?"border-b-2 border-blue-500 text-blue-400":"text-gray-400 hover:text-gray-300"),onClick:()=>v("tips"),children:"Game Tips"})]})}),(0,r.jsx)(ep,{activeEvents:eA,onEventClick:eU}),j&&100!==u&&(0,r.jsx)("div",{className:"fixed top-4 right-4 bg-yellow-500 text-black p-4 rounded shadow-lg z-50 animate-pulse",children:(0,r.jsxs)("span",{className:"font-bold",children:["\uD83C\uDFE0 ",j]})}),eO&&(0,r.jsx)(eg,{event:eO,isOpen:eR,onClose:()=>eS(!1),onMakeChoice:eF,playerMoney:l}),ed&&el&&(0,r.jsx)("div",{className:"fixed inset-0 flex items-center justify-center z-50 bg-black bg-opacity-75",children:(0,r.jsx)(V,{property:el,applications:el.leaseApplications||[],onClose:()=>{ey(!1),ec(null)},onAcceptApplication:e$})}),(0,r.jsxs)("div",{className:"mt-4",children:["listings"===f&&(0,r.jsx)(q,{properties:e,onBuyOrSell:eY,onRent:eW,onRenovate:eG,onEvictTenant:eV,playerMoney:l,handleAcceptApplication:e$,setPaused:b}),"myProperties"===f&&(0,r.jsx)(K,{properties:e,onBuyOrSell:eY,onRent:eW,onRenovate:eG,onEvictTenant:eV,playerMoney:l,outsourcedProperties:ej,onToggleOutsource:eD,handleAcceptApplication:e$,setPaused:b}),"bank"===f&&(0,r.jsx)(Q,{playerMoney:l,totalDebt:o,monthlyRepayment:m,currentInterestRate:U,bankCreditScore:w,maxLoanAmount:A,maxLoanToValueRatio:O,currentDebtRatio:eI,paymentHistory:R,interestRateHistory:H,consecutivePayments:C,nextRateChangeDate:$,onTakeLoan:function(e){if(e<=0){N("Loan amount must be greater than zero."),setTimeout(()=>N(null),5e3);return}if(e>A){N("You cannot take a loan greater than your maximum loan amount of $".concat(A.toLocaleString(),".")),setTimeout(()=>N(null),5e3);return}let t=o+e;if((eL>0?t/eL:1)>O){N("This loan would exceed your maximum allowed debt ratio of ".concat((100*O).toFixed(1),"%.")),setTimeout(()=>N(null),5e3);return}let s=X(w,o,eL,O);if(100*Math.random()>s+100*em(ew.filter(e=>e.isActive),p.LOAN_APPROVAL)){N("Loan application denied. Improve your credit score or reduce debt ratio."),setTimeout(()=>N(null),5e3);return}i(t=>t+e),d(t=>t+e),h(t=>U/12*(t+e)),N("You took a loan of $".concat(e.toLocaleString(),".")),setTimeout(()=>N(null),5e3)},onRepayLoan:function(e){let t=Math.round(.02*e),a=e+t;if(l<a){N("You need $".concat(a.toLocaleString()," to repay this loan with fees.")),setTimeout(()=>N(null),5e3);return}i(e=>e-a),d(t=>t-e),h(()=>o-e>0?U/12*(o-e):0),S(a=>[{date:new Date(s),amount:e,adminFee:t},...a]),N("Repaid $".concat(e.toLocaleString()," of your loan.")),setTimeout(()=>N(null),5e3)},assetValue:eL,adminFeeFixed:25,adminFeePercent:.005,currentDate:s,rateProtection:eC,onPurchaseRateProtection:eH,onCancelRateProtection:e_}),"reports"===f&&(0,r.jsx)(Y,{ownedProperties:e.filter(e=>"Player"===e.owner),totalDebt:o,monthlyRepayment:m,currentInterestRate:U,playerMoney:l}),"taxes"===f&&(0,r.jsx)(Z,{properties:e,monthlyRentalIncome:e.filter(e=>"Player"===e.owner&&e.isRented).reduce((e,t)=>e+t.rentPrice,0),monthlyExpenses:e.filter(e=>"Player"===e.owner).reduce((e,t)=>e+t.maintenanceCosts,0),recentCapitalGains:ea,fiscalYear:s.getFullYear().toString(),totalTaxesPaidYTD:et}),"settings"===f&&(0,r.jsx)(k,{tickRate:u,setTickRate:g,paused:y,setPaused:b,propertyManager:ef,togglePropertyManager:()=>{ev(e=>({...e,hired:!e.hired})),ef.hired?N("Property manager has been dismissed."):N("Property manager hired! They'll handle tenant issues and find new renters."),setTimeout(()=>N(null),5e3)},outsourcedProperties:ej,ownedProperties:e.filter(e=>"Player"===e.owner),toggleOutsourceProperty:eD}),"tips"===f&&(0,r.jsx)(I,{})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[844,441,684,358],()=>t(7527)),_N_E=e.O()}]);